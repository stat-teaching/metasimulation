{
  "hash": "21ef46c64d79e87920239bcdd2359db1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Meta-analysis Models\n---\n\n\n\n\n\n\n# Simulation setup {.section}\n\n## Notation {.smaller}\n\nMeta-analysis notation is a little bit inconsistent in textbooks and papers. We define here some rules to simplify the work.\n\n- $k$ is the number of studies\n- $n_j$ is the sample size of the group $j$ within a study\n- $y_i$ are the observed effect size included in the meta-analysis\n- $\\sigma_i^2$ are the observed sampling variance of studies and $\\epsilon_i$ are the sampling errors\n- $\\theta$ is the equal-effects parameter (see @eq-ee1)\n- $\\delta_i$ is the random-effect (see @eq-re-mod2)\n- $\\mu_\\theta$ is the average effect of a random-effects model (see @eq-re-mod1)\n- $w_i$ are the meta-analysis weights\n- $\\tau^2$ is the heterogeneity (see @eq-re-mod2)\n- $\\Delta$ is the (generic) population effect size\n- $s_j^2$ is the variance of the group $j$ within a study\n\n## Simulation setup\n\nGiven the introduction to effect sizes, from now we will simulate data using UMD and the individual-level data. \n\nBasically we are simulating an effect size $D$ coming from the comparison of two independent groups $G_1$ and $G_2$.\n\nEach group is composed by $n$ participants measured on a numerical outcome (e.g., reaction times)\n\n## Simulation setup\n\nA more general, clear and realistic approach to simulate data is by generating $k$ studies with same/different sample sizes and (later) true effect sizes.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 10 # number of studies\nn1 <- n2 <- 10 + rpois(k, 30 - 10) # sample size from poisson distribution with lambda 40 and minimum 10\nD <- 0.5 # effect size\n\nyi <- rep(NA, k)\nvi <- rep(NA, k)\n  \nfor(i in 1:k){\n  g1 <- rnorm(n1[i], 0, 1)\n  g2 <- rnorm(n2[i], D, 1)\n  yi[i] <- mean(g2) - mean(g1)\n  vi[i] <- var(g1)/n1[i] + var(g2)/n2[i]\n}\n  \nsim <- data.frame(id = 1:k, yi, vi)\n\nhead(sim)\n#>   id        yi         vi\n#> 1  1 0.5870416 0.06168715\n#> 2  2 0.5712280 0.05370536\n#> 3  3 0.8393588 0.07603554\n#> 4  4 0.5252720 0.05726858\n#> 5  5 0.2733414 0.07370605\n#> 6  6 0.9057978 0.09869817\n```\n:::\n\n\n## Simulation setup\n\nWe can again put everything within a function:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nsim_studies <- function(k, es, n1, n2 = NULL){\n  if(length(n1) == 1) n1 <- rep(n1, k)\n  if(is.null(n2)) n2 <- n1\n  if(length(es) == 1) es <- rep(es, k)\n  \n  yi <- rep(NA, k)\n  vi <- rep(NA, k)\n  \n  for(i in 1:k){\n    g1 <- rnorm(n1[i], 0, 1)\n    g2 <- rnorm(n2[i], es[i], 1)\n    yi[i] <- mean(g2) - mean(g1)\n    vi[i] <- var(g1)/n1[i] + var(g2)/n2[i]\n  }\n  \n  sim <- data.frame(id = 1:k, yi, vi, n1 = n1, n2 = n2)\n  \n  # convert to escalc for using metafor methods\n  sim <- metafor::escalc(yi = yi, vi = vi, data = sim)\n  \n  return(sim)\n}\n```\n:::\n\n\n## Simulation setup - Disclaimer\n\nThe proposed simulation approach using a `for` loop and separated vectors. For the purpose of the workshop this is the best option. In real-world meta-analysis simulations you can choose a more functional approach starting from a simulation grid as `data.frame` and mapping the simulation functions.\n\nFor some examples see:\n\n- @Gambarota2023-on\n- [www.jepusto.com/simulating-correlated-smds](https://www.jepusto.com/simulating-correlated-smds)\n\n## Simulation setup - Disclaimer\n\nFor a more extended overview of the simulation setup we have an entire paper. Supplementary materials ([github.com/shared-research/simulating-meta-analysis](https://github.com/shared-research/simulating-meta-analysis)) contains also more examples for complex (multilevel and multivariate models.)\n\n![](img/gambarota2023.png){fig-align=\"center\"}\n\n# Combining studies {.section}\n\n## Combining studies\n\nLet's imagine to have $k = 10$ studies, a $D = 0.5$ and heterogeneous sample sizes in each study.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 10\nD <- 0.5\nn <- 10 + rpois(k, lambda = 20) \ndat <- sim_studies(k = k, es = D, n1 = n)\nhead(dat)\n#> \n#>   id     yi     vi n1 n2 \n#> 1  1 0.6468 0.0583 38 38 \n#> 2  2 0.1193 0.0604 33 33 \n#> 3  3 0.3122 0.0406 34 34 \n#> 4  4 0.1772 0.0665 39 39 \n#> 5  5 0.3192 0.0614 36 36 \n#> 6  6 0.3858 0.0603 28 28\n```\n:::\n\n\n. . .\n\nWhat is the best way to combine the studies?\n\n## Combining studies\n\nWe can take the average effect size and considering it as a huge study. This can be considered the best way to combine the effects.\n\n$$\n\\hat{D} = \\frac{\\sum^{k}_{i = 1} D_i}{k}\n$$\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmean(dat$yi)\n#> [1] 0.2958671\n```\n:::\n\n\n. . .\n\nIt is appropriate? What do you think? Are we missing something?\n\n## Weighting studies\n\nWe are not considering that some studies, despite providing a similar effect size could give more information. An higher sample size (or lower sampling variance) produce a more reliable estimation.\n\n. . .\n\nWould you trust more a study with $n = 100$ and $D = 0.5$ or a study with $n = 10$ and $D = 0.5$? The \"meta-analysis\" that we did before is completely ignoring this information.\n\n## Weighting studies\n\nWe need to find a value (called weight $w_i$) that allows assigning more trust to a study because it provide more information. \n\n. . .\n\nThe simplest weights are just the sample size, but in practice we use the so-called **inverse-variance weighting**. We use the (inverse) of the sampling variance of the effect size to weight each study. \n\n. . .\n\nThe basic version of a meta-analysis is just a **weighted average**:\n\n$$\n\\overline D_w = \\frac{\\sum^k_{i = 1}{w_iD_i}}{\\sum^k_{i = 1}{w_i}}\n$$\n\n. . .\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwi <- 1/dat$vi\nsum(dat$yi * wi) / sum(wi)\n#> [1] 0.3033368\n# weighted.mean(dat$yi, wi)\n```\n:::\n\n\n## Weighting studies\n\nGraphically, the two models can be represented in this way:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-8-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n# Equal-effects (EE) meta-analysis {.section}\n\n## EE meta-analysis\n\nWhat we did in the last example (the weighted mean) is the exactly a meta-analysis model called **equal-effects** (or less precisely fixed-effect). The assumptions are very simple:\n\n- there is a unique, true effect size to estimate $\\theta$\n- each study is a more or less precise estimate of $\\theta$\n- there is no TRUE variability among studies. The observed variability is due to studies that are imprecise (i.e., sampling error)\n- assuming that each study has a very large sample size, the observed variability is close to zero.\n\n## EE meta-analysis, formally\n\n$$\ny_i = \\theta + \\epsilon_i\n$$ {#eq-ee1}\n\n$$\n\\epsilon_i \\sim \\mathcal{N}(0, \\sigma^2_i)\n$$ {#eq-ee2}\n\nWhere $\\sigma^2_i$ is the vector of sampling variabilities of $k$ studies. This is a standard linear model but with heterogeneous sampling variances.\n\n## EE meta-analysis\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-9-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Simulating an EE model\n\nWhat we were doing with the `sim_studies()` function so far was simulating an EE model. In fact, there were a single $\\theta$ parameter and the observed variability was a function of the `rnorm()` randomness.\n\nBased on previous assumptions and thinking a little bit, what could be the result of simulating studies with a very large $n$?\n\n. . .\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nns <- c(10, 50, 100, 1000, 1e4)\nD <- 0.5\ndats <- lapply(ns, function(n) sim_studies(10, es = D, n1 = n))\n```\n:::\n\n\n## Simulating an EE modelm {#sec-ee-impact-n}\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-11-1.svg){fig-align='center' width=1440}\n:::\n:::\n\n\n## Simulating an EE model\n\nFormulating the model as a intercept-only regression (see Equations [@eq-ee1] and [@eq-ee2]) we can generate data directly:\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\nAs we did for the aggregated data approach. Clearly we need to simulate also the `vi` vector from the appropriate distribution. Given that we simulated data starting from the participant-level the uncertainty of `yi` and `vi` is already included.\n\n## Fitting an EE model\n\nThe model can be fitted using the `metafor::rma()` function, with `method = \"EE\"`^[There is a confusion about the *fixed-effects* vs *fixed-effect* (no *s*) and *equal-effects* models. See [https://wviechtb.github.io/metafor/reference/misc-models.html](https://wviechtb.github.io/metafor/reference/misc-models.html)].\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntheta <- 0.5\nk <- 15\nn <- 10 + rpois(k, 30 - 10)\ndat <- sim_studies(k = k, es = theta, n1 = n)\nfit <- rma(yi, vi, data = dat, method = \"EE\")\nsummary(fit)\n#> \n#> Equal-Effects Model (k = 15)\n#> \n#>   logLik  deviance       AIC       BIC      AICc   \n#>   0.9742   13.6722    0.0517    0.7597    0.3594   \n#> \n#> I^2 (total heterogeneity / total variability):   0.00%\n#> H^2 (total variability / sampling variability):  0.98\n#> \n#> Test for Heterogeneity:\n#> Q(df = 14) = 13.6722, p-val = 0.4744\n#> \n#> Model Results:\n#> \n#> estimate      se    zval    pval   ci.lb   ci.ub      \n#>   0.4224  0.0608  6.9472  <.0001  0.3032  0.5415  *** \n#> \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n\n## Interpreting an EE model\n\n- The first section (`logLik`, `deviance`, etc.) presents some general model statistics and information criteria\n- The $I^2$ and $H^2$ are statistics evaluating the observed heterogeneity (see next slides)\n- The `Test of Heterogeneity` section presents the test of the $Q$ statistics for the observed heterogeneity (see next slides)\n- The `Model Results` section presents the estimation of the $\\theta$ parameter along with the standard error and the Wald $z$ test ($H_0: \\theta = 0$)\n\nThe `metafor` package has a several well documented functions to calculate and plot model results, residuals analysis etc.\n\n## Interpreting an EE model\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nplot(fit) # general plots\n```\n\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-14-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Interpreting an EE Model\n\nThe main function for plotting model results is the `forest()` function that produce the forest plot.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nforest(fit)\n```\n\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-15-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Interpreting an EE Model\n\nWe did not introduced the concept of heterogeneity, but the $I^2$, $H^2$ and $Q$ statistics basically evaluate if the observed heterogeneity should be attributed to **sampling variability** (uncertainty in estimating $\\theta$ because we have a limited $k$ and $n$) or **sampling variability** plus other sources of heterogeneity.\n\n## EE model as a weighted Average\n\nFormally $\\theta$ is estimated as [see @Borenstein2009-mo, p. 66]\n\n$$\n\\hat{\\theta} = \\frac{\\sum^k_{i = 1}{w_iy_i}}{\\sum^k_{i = 1}{w_i}}; \\;\\;\\; w_i = \\frac{1}{\\sigma^2_i}\n$$\n\n$$\nSE_{\\theta} = \\frac{1}{\\sum^k_{i = 1}{w_i}}\n$$\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwi <- 1/dat$vi\ntheta_hat <- with(dat, sum(yi * wi)/sum(wi))\nse_theta_hat <- sqrt(1/sum(wi))\nc(theta = theta_hat, se = se_theta_hat, z = theta_hat / se_theta_hat)\n#>      theta         se          z \n#> 0.42235618 0.06079533 6.94718085\n```\n:::\n\n\n# Random-effects (RE) meta-analysis {.section}\n\n## Are the EE assumptions realistic?\n\nThe EE model is appropriate if our studies are somehow **exact replications** of the exact same effect. We are assuming that there is **no real variability**.\n\n. . .\n\nHowever, meta-analysis rarely report the results of $k$ exact replicates. It is more common to include **studies answering the same research question** but with different methods, participants, etc.\n\n. . .\n\n- people with different ages or other participant-level differences\n- different methodology\n- ...\n\n## Are the EE assumptions realistic?\n\n. . .\n\nIf we relax the previous assumption we are able to combine studies that are not exact replications. \n\n. . .\n\nThus the real effect $\\theta$ is no longer a single **true** value but can be larger or smaller in some conditions.\n\n. . .\n\nIn other terms we are assuming that there could be some variability (i.e., **heterogeneity**) among studies that is independent from the sample size. Even with studies with $\\lim_{n\\to\\infty}$ the observed variability is not zero.\n\n## Random-effects model (RE)\n\nWe can extend the EE model including another source of variability, $\\tau^2$. $\\tau^2$ is the true heterogeneity among studies caused by methdological differences or intrisic variability in the phenomenon.\n\nFormally we can extend @eq-ee1 as:\n$$\ny_i = \\mu_{\\theta} + \\delta_i + \\epsilon_i\n$$ {#eq-re-mod1}\n\n$$\n\\delta_i \\sim \\mathcal{N}(0, \\tau^2)\n$$ {#eq-re-mod2}\n\n$$\n\\epsilon_i \\sim \\mathcal{N}(0, \\sigma^2_i)\n$$\n\nWhere $\\mu_{\\theta}$ is the average effect size and $\\delta_i$ is the study-specific deviation from the average effect (regulated by $\\tau^2$). Clearly each study specific effect is $\\theta_i = \\mu_{\\theta} + \\delta_i$.\n\n## RE model\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-17-1.svg){fig-align='center' width=60%}\n:::\n:::\n\n\n## RE model estimation\n\nGiven that we extended the EE model equation. Also the estimation of the average effect need to be extended. Basically the RE is still a weighted average but weights need to include also $\\tau^2$.\n\n$$\n\\overline y = \\frac{\\sum_{i = 1}^k y_iw^*_i}{\\sum_{i = 1}^k w^*_i}\n$$ {#eq-re1}\n\n$$\nw^*_i = \\frac{1}{\\sigma^2_i + \\tau^2}\n$$ {#eq-re2}\n\nThe weights are different compared to the EE model. Extremely precise/imprecise studies will have less impact in the RE model.\n\n## RE vs EE model\n\nThe crucial difference with the EE model is that even with large $n$, only the $\\mu_{\\theta} + \\delta_i$ are estimated (almost) without error. As long $\\tau^2 \\neq 0$ there will be variability in the effect sizes.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-18-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Simulating a RE Model\n\nTo simulate the RE model we simply need to include $\\tau^2$ in the EE model simulation.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 15 # number of studies\nmu <- 0.5 # average effect\ntau2 <- 0.1 # heterogeneity\nn <- 10 + rpois(k, 30 - 10) # sample size\ndeltai <- rnorm(k, 0, sqrt(tau2)) # random-effects\nthetai <- mu + deltai # true study effect\n\ndat <- sim_studies(k = k, es = thetai, n1 = n)\n\nhead(dat)\n#> \n#>   id      yi     vi n1 n2 \n#> 1  1  0.2408 0.0623 30 30 \n#> 2  2  0.3343 0.0671 24 24 \n#> 3  3 -0.2468 0.0526 37 37 \n#> 4  4  0.1003 0.0894 26 26 \n#> 5  5  0.4047 0.0551 31 31 \n#> 6  6  0.6333 0.0466 38 38\n```\n:::\n\n\n## Simulating a RE model\n\nAgain, we can put everything within a function expanding the previous `sim_studies()` by including $\\tau^2$:\n\n\n\n\n\n```r\nsim_studies <- function(k, es, tau2 = 0, n1, n2 = NULL, add = NULL){\n  if(length(n1) == 1) n1 <- rep(n1, k)\n  if(is.null(n2)) n2 <- n1\n  if(length(es) == 1) es <- rep(es, k)\n  \n  yi <- rep(NA, k)\n  vi <- rep(NA, k)\n  \n  # random effects\n  deltai <- rnorm(k, 0, sqrt(tau2))\n  \n  for(i in 1:k){\n    g1 <- rnorm(n1[i], 0, 1)\n    g2 <- rnorm(n2[i], es[i] + deltai[i], 1)\n    yi[i] <- mean(g2) - mean(g1)\n    vi[i] <- var(g1)/n1[i] + var(g2)/n2[i]\n  }\n  \n  sim <- data.frame(id = 1:k, yi, vi, n1 = n1, n2 = n2)\n  \n  if(!is.null(add)){\n    sim <- cbind(sim, add)\n  }\n  \n  # convert to escalc for using metafor methods\n  sim <- metafor::escalc(yi = yi, vi = vi, data = sim)\n  \n  return(sim)\n}\n```\n\n## Simulating a RE model\n\nThe data are similar to the EE simulation but we have an extra source of heterogeneity.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-21-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Simulating a RE model\n\nTo see the actual impact of $\\tau^2$ we can follow the same approach of @sec-ee-impact-n thus using a large $n$. The sampling variance `vi` of each study is basically 0.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# ... other parameters as before\nn <- 1e4\ndeltai <- rnorm(k, 0, sqrt(tau2)) # random-effects\nthetai <- mu + deltai # true study effect\ndat <- sim_studies(k = k, es = thetai, n1 = n)\n# or equivalently \n# dat <- sim_studies(k = k, es = mu, tau2 = tau2, n1 = n)\n\nhead(dat)\n#> \n#>   id     yi     vi    n1    n2 \n#> 1  1 0.1920 0.0002 10000 10000 \n#> 2  2 0.7367 0.0002 10000 10000 \n#> 3  3 0.1277 0.0002 10000 10000 \n#> 4  4 0.6683 0.0002 10000 10000 \n#> 5  5 1.0573 0.0002 10000 10000 \n#> 6  6 0.3381 0.0002 10000 10000\n```\n:::\n\n\n## Simulating a RE Model\n\nClearly, compared to @sec-ee-impact-n, even with large $n$ the variability is not reduced because $\\tau^2 \\neq 0$. As $\\tau^2$ approach zero the EE and RE models are similar.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-23-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## RE model estimation\n\nGiven that we extended the EE model equation. Also the estimation of the average effect need to be extended. Basically the RE is still a weighted average but weights need to include also $\\tau^2$.\n\n$$\n\\overline y = \\frac{\\sum_{i = 1}^k y_iw^*_i}{\\sum_{i = 1}^k w^*_i}\n$$ {#eq-re1}\n\n$$\nw^*_i = \\frac{1}{\\sigma^2_i + \\tau^2}\n$$ {#eq-re2}\n\nThe weights are different compared to the EE model. Extremely precise/imprecise studies will have less impact in the RE model.\n\n## Fitting a RE model\n\nIn R we can use the `metafor::rma()` function using the `method = \"REML\"`.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nfit <- rma(yi, vi, data = dat, method = \"REML\")\nsummary(fit)\n#> \n#> Random-Effects Model (k = 15; tau^2 estimator: REML)\n#> \n#>   logLik  deviance       AIC       BIC      AICc   \n#>  -6.0191   12.0382   16.0382   17.3163   17.1291   \n#> \n#> tau^2 (estimated amount of total heterogeneity): 0.1381 (SE = 0.0523)\n#> tau (square root of estimated tau^2 value):      0.3717\n#> I^2 (total heterogeneity / total variability):   99.86%\n#> H^2 (total variability / sampling variability):  694.46\n#> \n#> Test for Heterogeneity:\n#> Q(df = 14) = 9696.8022, p-val < .0001\n#> \n#> Model Results:\n#> \n#> estimate      se    zval    pval   ci.lb   ci.ub      \n#>   0.4132  0.0960  4.3027  <.0001  0.2250  0.6014  *** \n#> \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n\n## Intepreting the RE model\n\nThe model output is quite similar to the EE model and also the intepretation is similar.\n\nThe only extra section is `tau^2/tau` that is the estimation of the between-study heterogeneity.\n\n\n::: {.cell layout-align=\"center\"}\n\n```\n#> \n#> Random-Effects Model (k = 15; tau^2 estimator: REML)\n#> \n#>   logLik  deviance       AIC       BIC      AICc   \n#>  -6.0191   12.0382   16.0382   17.3163   17.1291   \n#> \n#> tau^2 (estimated amount of total heterogeneity): 0.1381 (SE = 0.0523)\n#> tau (square root of estimated tau^2 value):      0.3717\n#> I^2 (total heterogeneity / total variability):   99.86%\n#> H^2 (total variability / sampling variability):  694.46\n#> \n#> Test for Heterogeneity:\n#> Q(df = 14) = 9696.8022, p-val < .0001\n#> \n#> Model Results:\n#> \n#> estimate      se    zval    pval   ci.lb   ci.ub      \n#>   0.4132  0.0960  4.3027  <.0001  0.2250  0.6014  *** \n#> \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n\n\n## Estimating $\\tau^2$\n\nWe used `method = \"REML\"` but there are actually several estimators for $\\tau^2$. @Viechtbauer2005-zt, @Veroniki2016-zs, @Brannick2019-hv and @Langan2017-zn provided a comprehensive overview of 16 different estimators.\n\n![](img/langan2017.png){fig-align=\"center\" width=80%}\n\n## Estimating $\\tau^2$\n\nThe **Restricted Maximum Likelihood** (REML) estimator is considered one of the best. We can compare the results using the `all_rma()` custom function that tests all the estimators^[The `filor::compare_rma()` function is similar to the `car::compareCoefs()` function].\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nfitl <- all_rma(fit)\nround(filor::compare_rma(fitlist = fitl), 3)\n#>           DL     HE     HS    HSk     SJ     ML   REML     EB     PM    PMM\n#> b      0.413  0.413  0.413  0.413  0.413  0.413  0.413  0.413  0.413  0.413\n#> se     0.096  0.096  0.093  0.096  0.096  0.093  0.096  0.096  0.096  0.098\n#> zval   4.308  4.303  4.460  4.308  4.303  4.454  4.303  4.303  4.303  4.200\n#> pval   0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000\n#> ci.lb  0.225  0.225  0.232  0.225  0.225  0.231  0.225  0.225  0.225  0.220\n#> ci.ub  0.601  0.601  0.595  0.601  0.601  0.595  0.601  0.601  0.601  0.606\n#> I2    99.856 99.856 99.845 99.856 99.856 99.846 99.856 99.856 99.856 99.863\n#> tau2   0.138  0.138  0.129  0.138  0.138  0.129  0.138  0.138  0.138  0.145\n```\n:::\n\n\n## Intepreting heterogeneity $\\tau^2$\n\nLooking at @eq-re-mod2, $\\tau^2$ is essentially the variance of the random-effect. This means that we can intepret it as the variability (or the standard deviation) of the true effect size distribution.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-27-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Intepreting $\\tau^2$\n\nAs in the previus plot we can assume $n = \\infty$ and generate true effects from @eq-re-mod2. In this way we understand the impact of assuming (or estimating) a certain $\\tau^2$.\n\nFor example, a $\\tau = 0.2$ and a $\\mu_{\\theta} = 0.5$, 50% of the true effects ranged between:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nD <- 0.5\nyis <- D + rnorm(1e5, 0, 0.2)\nquantile(yis, c(0.75, 0.25))\n#>       75%       25% \n#> 0.6341963 0.3643200\n```\n:::\n\n\n## The $Q$ Statistics^[See @Harrer2021-go (Chapter 5) and @Hedges2019-ry for an overview about the Q statistics]\n\nThe Q statistics is used to make inference on the heterogeneity. Can be considered as a weighted sum of squares:\n\n$$\nQ = \\sum^k_{i = 1}w_i(y_i - \\hat \\mu)^2\n$$\n\nWhere $\\hat \\mu$ is EE estimation (regardless if $\\tau^2 \\neq 0$) and $w_i$ are the inverse-variance weights. Note that in the case of $w_1 = w_2 ... = w_i$, Q is just a standard sum of squares (or deviance).\n\n## The $Q$ Statistics\n\n- Given that we are summing up squared distances, they should be approximately $\\chi^2$ with $df = k - 1$. In case of no heterogeneity ($\\tau^2 = 0$) the observed variability is only caused by sampling error and the expectd value of the $\\chi^2$ is just the degrees of freedom ($df = k - 1$).\n- In case of $\\tau^2 \\neq 0$, the expected value is $k - 1 + \\lambda$ where $\\lambda$ is a non-centrality parameter.\n- In other terms, if the expected value of $Q$ exceed the expected value assuming no heterogeneity, we have evidence that $\\tau^2 \\neq 0$.\n\n## The $Q$ Statistics\n\nLet's try a more practical approach. We simulate a lot of meta-analysis with and without heterogeneity and we check the Q statistics.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nget_Q <- function(yi, vi){\n  wi <- 1/vi\n  theta_ee <- weighted.mean(yi, wi)\n  sum(wi*(yi - theta_ee)^2)\n}\n\nk <- 30\nn <- 30\ntau2 <- 0.1\nnsim <- 1e4\n\nQs_tau2_0 <- rep(0, nsim)\nQs_tau2 <- rep(0, nsim)\nres2_tau2_0 <- vector(\"list\", nsim)\nres2_tau2 <- vector(\"list\", nsim)\n\nfor(i in 1:nsim){\n  dat_tau2_0 <- sim_studies(k = 30, es = 0.5, tau2 = 0, n1 = n)\n  dat_tau2 <- sim_studies(k = 30, es = 0.5, tau2 = tau2, n1 = n)\n  \n  theta_ee_tau2_0 <- weighted.mean(dat_tau2_0$yi, 1/dat_tau2_0$vi)\n  theta_ee <- weighted.mean(dat_tau2$yi, 1/dat_tau2$vi)\n  \n  res2_tau2_0[[i]] <- dat_tau2_0$yi - theta_ee_tau2_0\n  res2_tau2[[i]] <- dat_tau2$yi - theta_ee\n  \n  Qs_tau2_0[i] <- get_Q(dat_tau2_0$yi, dat_tau2_0$vi)\n  Qs_tau2[i] <- get_Q(dat_tau2$yi, dat_tau2$vi)\n}\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-30-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## The $Q$ Statistics\n\nLet's try a more practical approach. We simulate a lot of meta-analysis with and without heterogeneity and we check the Q statistics.\n\n. . .\n\n- clearly, in the presence of heterogeneity, the expected value of the Q statistics is higher (due to $\\lambda \\neq 0$) and also residuals are larger (the $\\chi^2$ is just a sum of squared weighted residuals)\n\n. . .\n\n- we can calculate a p-value for deviation from the $\\tau^2 = 0$ case as evidence agaist the absence of heterogeneity\n\n## $I^2$ [@Higgins2002-fh]\n\nWe have two sources of variability in a random-effects meta-analysis, the sampling variability $\\sigma_i^2$ and true heterogeneity $\\tau^2$. We can use the $I^2$ to express the interplay between the two.\n$$\nI^2 = 100\\% \\times \\frac{\\hat{\\tau}^2}{\\hat{\\tau}^2 + \\tilde{v}}\n$${#eq-i2}\n\n$$\n\\tilde{v} = \\frac{(k-1) \\sum w_i}{(\\sum w_i)^2 - \\sum w_i^2},\n$$\n\nWhere $\\tilde{v}$ is the typical sampling variability. $I^2$ is intepreted as the proportion of total variability due to real heterogeneity (i.e., $\\tau^2$)\n\n## $I^2$ [@Higgins2002-fh]^[see [https://www.meta-analysis-workshops.com/download/common-mistakes1.pdf](https://www.meta-analysis-workshops.com/download/common-mistakes1.pdf)]\n\nNote that we can have the same $I^2$ in two completely different meta-analysis. An high $I^2$ does not represent high heterogeneity. Let's assume to have two meta-analysis with $k$ studies and small ($n = 30$) vs large ($n = 500$) sample sizes. \n\nLet's solve @eq-i2 for $\\tau^2$ (using `filor::tau2_from_I2()`) and we found that the same $I^2$ can be obtained with two completely different $\\tau^2$ values:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nn_1 <- 30\nvi_1 <- 1/n_1 + 1/n_1\ntau2_1 <- filor::tau2_from_I2(0.8, vi_1)\ntau2_1\n#> [1] 0.2666667\n\nn_2 <- 500\nvi_2 <- 1/n_2 + 1/n_2\ntau2_2 <- filor::tau2_from_I2(0.8, vi_2)\ntau2_2\n#> [1] 0.016\n```\n:::\n\n\n## $I^2$ [@Higgins2002-fh]\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nn_1 <- 30\nvi_1 <- 1/n_1 + 1/n_1\ntau2_1 <- filor::tau2_from_I2(0.8, vi_1)\ntau2_1\n#> [1] 0.2666667\n\nn_2 <- 500\nvi_2 <- 1/n_2 + 1/n_2\ntau2_2 <- filor::tau2_from_I2(0.8, vi_2)\ntau2_2\n#> [1] 0.016\n```\n:::\n\n\n. . .\n\nIn other terms, the $I^2$ can be considered a good index of heterogeneity only when the total variance ($\\tilde{v} + \\tau^2$) is similar.\n\n## What about $\\tilde{v}$?\n\n$\\tilde{v}$ is considered the \"typical\" within-study variability (see [https://www.metafor-project.org/doku.php/tips:i2_multilevel_multivariate](https://www.metafor-project.org/doku.php/tips:i2_multilevel_multivariate)). There are different estimators but @eq-tildev [@Higgins2002-fh] is the most common.\n\n$$\n\\tilde{v} = \\frac{(k-1) \\sum w_i}{(\\sum w_i)^2 - \\sum w_i^2}\n$$ {#eq-tildev}\n\n## What about $\\tilde{v}$?\n\nIn the hypothetical case where $\\sigma^2_1 = \\dots = \\sigma^2_k$, $\\tilde{v}$ is just $\\sigma^2$. This fact is commonly used to calculate the statistical power analytically [@Borenstein2009-mo, Chapter 29].\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nvtilde <- function(wi){\n  k <- length(wi)\n  (k - 1) * sum(wi) / (sum(wi)^2 - sum(wi^2))\n}\n\nk <- 20\n\n# same vi\nvi <- rep((1/30 + 1/30), k)\nhead(vi)\n#> [1] 0.06666667 0.06666667 0.06666667 0.06666667 0.06666667 0.06666667\nvtilde(1/vi)\n#> [1] 0.06666667\n\n# heterogeneous vi\nn <- 10 + rpois(k, 30 - 10)\nvi <- sim_vi(k = k, n1 = n)\nvtilde(1/vi)\n#> [1] 0.06067894\n```\n:::\n\n\n## What about $\\tilde{v}$?\n\nUsing simulations we can see that $\\tilde{v}$ with heterogenenous variances (i.e., sample sizes in this case) can be approximated by the central tendency of the sample size distribution. Note that we are fixing $\\sigma^2 = 1$ thus we are not including uncertainty.\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-35-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## $H^2$\n\nThe $H^2$ is an alternative index of heterogeneity. Is calculated as:\n\n$$\nH^2 = \\frac{Q}{k - 1}\n$$\n\nWe defined $Q$ as the weighted sum of squares representing the total variability. $k - 1$ is the expected value of the $\\chi^2$ statistics (i.e., sum of squares) when $\\tau^2 = 0$ (or $\\lambda = 0$). \n\nThus $H^2$ is the ratio between total heterogeneity and sampling variability. Higher $H^2$ is associated with higher heterogeneity **relative** to the sampling variability. $H^2$ is not a measure of absolute heterogeneity.\n\n## $H^2$\n\nWhen we are fitting a RE model, the $I^2$ and $H^2$ equations are slightly different [@Higgins2002-fh]. See also the `metafor` [source code](https://github.com/cran/metafor/blob/994d26a65455fac90760ad6a004ec1eaca5856b1/R/rma.uni.r#L2459C30-L2459C30).\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 100\nmu <- 0.5\ntau2 <- 0.1\nn <- 30\n\ndat <- sim_studies(k = k, es = mu, tau2 = tau2, n1 = n)\nfit_re <- rma(yi, vi, data = dat, method = \"REML\")\nfit_ee <- rma(yi, vi, data = dat, method = \"EE\")\n\n# H2 with EE model\n\ntheta_ee <- fit_ee$b[[1]] # weighted.mean(dat$yi, 1/dat$vi)\nwi <- 1/dat$vi\nQ <- with(dat, sum((1/vi)*(yi - theta_ee)^2))\nc(Q, fit_ee$QE) # same\n#> [1] 279.0393 279.0393\n\nc(H2 = fit_ee$QE / (fit_ee$k - fit_ee$p), H2_model = fit_ee$H2) # same\n#>       H2 H2_model \n#> 2.818579 2.818579\n\n# H2 with RE model\n\nvt <- vtilde(1/dat$vi)\nc(H2 = fit_re$tau2 / vt + 1, H2_model = fit_re$H2) # same\n#>       H2 H2_model \n#> 2.797465 2.797465\n```\n:::\n\n\n## Confidence Intervals\n\nWhat is reported in the model summary as `ci.lb` and `ci.ub` refers to the 95% confidence interval representing the uncertainty in estimating the effect (or a meta-regression parameter).\n\nWithout looking at the equations, let's try to implement this idea using simulations.\n\n- choose $k$, $\\tau^2$ and $n$\n- simulate data (several times) accordingly and fit the RE model\n- extract the estimated effect size\n- compare the simulated sampling distribution with the analytical result\n\n## Confidence Intervals\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 30\nn <- 30\ntau2 <- 0.05\nmu <- 0.5\nnsim <- 5e3\n\n# true parameters (see Borenstein, 2009; Chapter 29)\nvt <- 1/n + 1/n\nvs <- (vt + tau2)/ k\nse <- sqrt(vs)\n\nmui <- rep(NA, nsim)\n\nfor(i in 1:nsim){\n  dat <- sim_studies(k = k, es = mu, tau2 = tau2, n1 = n)\n  fit <- rma(yi, vi, data = dat)\n  mui[i] <- coef(fit)[1]\n}\n\n# standard error\nc(simulated = sd(mui), analytical = fit$se)\n#>  simulated analytical \n#> 0.06239326 0.06287405\n\n# confidence interval\nrbind(\n  \"simulated\"  = quantile(mui, c(0.05, 0.975)),\n  \"analytical\" = c(\"2.5%\" = fit$ci.lb, \"97.5%\" = fit$ci.ub)\n)\n#>                   5%     97.5%\n#> simulated  0.3972089 0.6222421\n#> analytical 0.3034138 0.5498756\n```\n:::\n\n\n## Confidence Intervals\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-38-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Confidence Intervals\n\nNow the equation for the 95% confidence interval should be more clear. The standard error is a function of the within study sampling variances (depending mainly on $n$), $\\tau^2$ and $k$. As we increase $k$ the standard error tends towards zero. \n\n$$\nCI = \\hat \\mu_{\\theta} \\pm z SE_{\\mu_{\\theta}}\n$$\n\n$$\nSE_{\\mu_{\\theta}} = \\sqrt{\\frac{1}{\\sum^{k}_{i = 1}w^{\\star}_i}}\n$$\n\n$$\nw^{\\star}_i = \\frac{1}{\\sigma^2_i + \\tau^2}\n$$\n\n## Confidence Intervals\n\nWe can also see it analytically, there is a huge impact of $k$.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-39-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Prediction intervals (PI)\n\nWe could say that the CI is not completely taking into account the between-study heterogeneity ($\\tau^2$). After a meta-analysis we would like to know how confident we are in the parameters estimation BUT also **what would be the expected effect running a new experiment tomorrow?**.\n\nThe **prediction interval** [@IntHout2016-sz; @Riley2011-hp] is exactly the range of effects that I expect in predicting a new study.\n\n## PI for a sample mean\n\nTo understand the concept, let's assume to have a sample $X$ of size $n$ and we estimate the mean $\\overline X$. The PI is calculated as^[Notice that the equation, in particular the usage of $t$ vs $z$ depends on assuming $s_x$ to be known or estimated. See [https://online.stat.psu.edu/stat501/lesson/3/3.3](https://online.stat.psu.edu/stat501/lesson/3/3.3), [https://en.wikipedia.org/wiki/Prediction_interval](https://en.wikipedia.org/wiki/Prediction_interval) and [https://www.bryanshalloway.com/2021/03/18/intuition-on-uncertainty-of-predictions-introduction-to-prediction-intervals/](https://www.bryanshalloway.com/2021/03/18/intuition-on-uncertainty-of-predictions-introduction-to-prediction-intervals/)]:\n\n$$\nPI = \\overline X \\pm t_{\\alpha/2} s_x \\sqrt{1 + \\frac{1}{n}}\n$$\n\nWhere $s$ is the sample standard deviation. Basically we are combining the uncertainty in estimating $\\overline X$ (i.e, $\\frac{s_x}{n}$) with the standard deviation of the data $s_x$. Compare it with the confidence interval containing only $\\frac{s_x}{n}$.\n\n## PI in meta-analysis\n\nFor meta-analysis the equation^[When a $t$ distribution is assumed, the quantiles are calculated using $k - 2$ degrees of freedom] is conceptually similar but with different quantities.\n\n$$\nPI = \\hat \\mu_{\\theta} \\pm z \\sqrt{\\tau^2 + SE_{\\mu_{\\theta}}}\n$$\n\nBasically we are combining all the sources of uncertainty. As long as $\\tau^2 \\neq 0$ the PI is greater than the CI (in the EE model they are the same). Thus even with very precise $\\mu_{\\theta}$ estimation, large $\\tau^2$ leads to uncertain predictions.\n\n## PI in meta-analysis\n\nIn R the PI can be calculated using `predict()`. By default the model assume a standard normal distribution thus using $z$ scores. To use the @Riley2011-hp approach ($t$ distribution) the model need to be fitted using `test = \"t\"`.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 100\ndat <- sim_studies(k = k, es = 0.5, tau2 = 0.1, n1 = 30)\nfit_z <- rma(yi, vi, data = dat, test = \"z\") # test = \"z\" is the default\npredict(fit_z) # notice pi.ub/pi.lb vs ci.ub/ci.lb\n#> \n#>    pred     se  ci.lb  ci.ub  pi.lb  pi.ub \n#>  0.4927 0.0351 0.4239 0.5615 0.0137 0.9717\n# manually\nfit_z$b[[1]] + qnorm(c(0.025, 0.975)) * sqrt(fit_z$se^2 + fit_z$tau2)\n#> [1] 0.01365251 0.97168920\n\nfit_t <- rma(yi, vi, data = dat, test = \"t\")\npredict(fit_t) # notice pi.ub/pi.lb vs ci.ub/ci.lb\n#> \n#>    pred     se  ci.lb  ci.ub  pi.lb  pi.ub \n#>  0.4927 0.0351 0.4230 0.5623 0.0077 0.9776\n# manually\nfit_z$b[[1]] + qt(c(0.025, 0.975), k - 2) * sqrt(fit_t$se^2 + fit_t$tau2)\n#> [1] 0.007663823 0.977677890\n```\n:::\n\n\n## References <button class=\"btn\"><i class=\"fa fa-download\"></i><a href=\"data:text/x-bibtex;base64,QE1JU0N7Qm9yZW5zdGVpbjIwMDktbW8sCiAgdGl0bGUgPSB7SW50cm9kdWN0aW9uIHRvIHtNZXRhLUFuYWx5c2lzfX0sCiAgYXV0aG9yID0ge0JvcmVuc3RlaW4sIE1pY2hhZWwgYW5kIEhlZGdlcywgTGFycnkgViBhbmQgSGlnZ2lucywgSnVsaWFuIFAgVCBhbmQKICBSb3Roc3RlaW4sIEhhbm5haCBSfSwKICBkYXRlID0gezIwMDl9LAogIGRvaSA9IHsxMC4xMDAyLzk3ODA0NzA3NDMzODZ9LAogIHVybCA9IHtodHRwOi8vZHguZG9pLm9yZy8xMC4xMDAyLzk3ODA0NzA3NDMzODZ9LAogIGtleXdvcmRzID0ge01BIFVuY29uc2Npb3VzIFdNfQp9CgpAQVJUSUNMRXtMYW5nYW4yMDE3LXpuLAogIHRpdGxlID0ge0NvbXBhcmF0aXZlIHBlcmZvcm1hbmNlIG9mIGhldGVyb2dlbmVpdHkgdmFyaWFuY2UgZXN0aW1hdG9ycyBpbgogIG1ldGEtYW5hbHlzaXM6IGEgcmV2aWV3IG9mIHNpbXVsYXRpb24gc3R1ZGllc30sCiAgYXV0aG9yID0ge0xhbmdhbiwgRGVhbiBhbmQgSGlnZ2lucywgSnVsaWFuIFAgVCBhbmQgU2ltbW9uZHMsIE1hcmt9LAogIGpvdXJuYWx0aXRsZSA9IHtSZXNlYXJjaCBzeW50aGVzaXMgbWV0aG9kc30sCiAgcHVibGlzaGVyID0ge0pvaG4gV2lsZXkgXCYgU29ucywgTHRkfSwKICB2b2x1bWUgPSB7OH0sCiAgaXNzdWUgPSB7Mn0sCiAgcGFnZXMgPSB7MTgxLTE5OH0sCiAgZGF0ZSA9IHsyMDE3LTA2fSwKICBkb2kgPSB7MTAuMTAwMi9qcnNtLjExOTh9LAogIHBtaWQgPSB7MjcwNjA5MjV9LAogIGlzc24gPSB7MTc1OS0yODc5LDE3NTktMjg4N30sCiAgYWJzdHJhY3QgPSB7UmFuZG9tLWVmZmVjdHMgbWV0YS1hbmFseXNpcyBtZXRob2RzIGluY2x1ZGUgYW4gZXN0aW1hdGUgb2YKICBiZXR3ZWVuLXN0dWR5IGhldGVyb2dlbmVpdHkgdmFyaWFuY2UuIFdlIHByZXNlbnQgYSBzeXN0ZW1hdGljIHJldmlldyBvZgogIHNpbXVsYXRpb24gc3R1ZGllcyBjb21wYXJpbmcgdGhlIHBlcmZvcm1hbmNlIG9mIGRpZmZlcmVudCBlc3RpbWF0aW9uIG1ldGhvZHMKICBmb3IgdGhpcyBwYXJhbWV0ZXIuIFdlIHN1bW1hcmlzZSB0aGUgcGVyZm9ybWFuY2Ugb2YgbWV0aG9kcyBpbiByZWxhdGlvbiB0bwogIGVzdGltYXRpb24gb2YgaGV0ZXJvZ2VuZWl0eSBhbmQgb2YgdGhlIG92ZXJhbGwgZWZmZWN0IGVzdGltYXRlLCBhbmQgb2YKICBjb25maWRlbmNlIGludGVydmFscyBmb3IgdGhlIGxhdHRlci4gQW1vbmcgdGhlIHR3ZWx2ZSBpbmNsdWRlZCBzaW11bGF0aW9uCiAgc3R1ZGllcywgdGhlIERlclNpbW9uaWFuIGFuZCBMYWlyZCBtZXRob2Qgd2FzIG1vc3QgY29tbW9ubHkgZXZhbHVhdGVkLiBUaGlzCiAgZXN0aW1hdGUgaXMgbmVnYXRpdmVseSBiaWFzZWQgd2hlbiBoZXRlcm9nZW5laXR5IGlzIG1vZGVyYXRlIHRvIGhpZ2ggYW5kCiAgdGhlcmVmb3JlIG1vc3Qgc3R1ZGllcyByZWNvbW1lbmRlZCBhbHRlcm5hdGl2ZXMuIFRoZSBQYXVsZS1NYW5kZWwgbWV0aG9kIHdhcwogIHJlY29tbWVuZGVkIGJ5IHRocmVlIHN0dWRpZXM6IGl0IGlzIHNpbXBsZSB0byBpbXBsZW1lbnQsIGlzIGxlc3MgYmlhc2VkIHRoYW4KICBEZXJTaW1vbmlhbiBhbmQgTGFpcmQgYW5kIHBlcmZvcm1zIHdlbGwgaW4gbWV0YS1hbmFseXNlcyB3aXRoIGRpY2hvdG9tb3VzIGFuZAogIGNvbnRpbnVvdXMgb3V0Y29tZXMuIEluIG1hbnkgb2YgdGhlIGluY2x1ZGVkIHNpbXVsYXRpb24gc3R1ZGllcywgcmVzdWx0cyB3ZXJlCiAgYmFzZWQgb24gZGF0YSB0aGF0IGRvIG5vdCByZXByZXNlbnQgbWV0YS1hbmFseXNlcyBvYnNlcnZlZCBpbiBwcmFjdGljZSwgYW5kCiAgb25seSBzbWFsbCBzZWxlY3Rpb25zIG9mIG1ldGhvZHMgd2VyZSBjb21wYXJlZC4gRnVydGhlcm1vcmUsIHBvdGVudGlhbAogIGNvbmZsaWN0cyBvZiBpbnRlcmVzdCB3ZXJlIHByZXNlbnQgd2hlbiBhdXRob3JzIG9mIG5vdmVsIG1ldGhvZHMgaW50ZXJwcmV0ZWQKICB0aGVpciByZXN1bHRzLiBPbiB0aGUgYmFzaXMgb2YgY3VycmVudCBldmlkZW5jZSwgd2UgcHJvdmlzaW9uYWxseSByZWNvbW1lbmQKICB0aGUgUGF1bGUtTWFuZGVsIG1ldGhvZCBmb3IgZXN0aW1hdGluZyB0aGUgaGV0ZXJvZ2VuZWl0eSB2YXJpYW5jZSwgYW5kIHVzaW5nCiAgdGhpcyBlc3RpbWF0ZSB0byBjYWxjdWxhdGUgdGhlIG1lYW4gZWZmZWN0IGFuZCBpdHMgOTVcJSBjb25maWRlbmNlIGludGVydmFsLgogIEhvd2V2ZXIsIGZ1cnRoZXIgc2ltdWxhdGlvbiBzdHVkaWVzIGFyZSByZXF1aXJlZCB0byBkcmF3IGZpcm0gY29uY2x1c2lvbnMuCiAgQ29weXJpZ2h0IMKpIDIwMTYgSm9obiBXaWxleSBcJiBTb25zLCBMdGQufSwKICB1cmwgPSB7aHR0cHM6Ly9vbmxpbmVsaWJyYXJ5LndpbGV5LmNvbS9kb2kvYWJzLzEwLjEwMDIvanJzbS4xMTk4fSwKICBrZXl3b3JkcyA9IHtEZXJTaW1vbmlhbi1MYWlyZDsgaGV0ZXJvZ2VuZWl0eTsgbWV0YS1hbmFseXNpczsgcmFuZG9tIGVmZmVjdHM7CiAgc2ltdWxhdGlvbn0sCiAgbGFuZ3VhZ2UgPSB7ZW59Cn0KCkBBUlRJQ0xFe0hpZ2dpbnMyMDAyLWZoLAogIHRpdGxlID0ge1F1YW50aWZ5aW5nIGhldGVyb2dlbmVpdHkgaW4gYSBtZXRhLWFuYWx5c2lzfSwKICBhdXRob3IgPSB7SGlnZ2lucywgSnVsaWFuIFAgVCBhbmQgVGhvbXBzb24sIFNpbW9uIEd9LAogIGpvdXJuYWx0aXRsZSA9IHtTdGF0aXN0aWNzIGluIG1lZGljaW5lfSwKICB2b2x1bWUgPSB7MjF9LAogIGlzc3VlID0gezExfSwKICBwYWdlcyA9IHsxNTM5LTE1NTh9LAogIGRhdGUgPSB7MjAwMi0wNi0xNX0sCiAgZG9pID0gezEwLjEwMDIvc2ltLjExODZ9LAogIHBtaWQgPSB7MTIxMTE5MTl9LAogIGlzc24gPSB7MDI3Ny02NzE1fSwKICBhYnN0cmFjdCA9IHtUaGUgZXh0ZW50IG9mIGhldGVyb2dlbmVpdHkgaW4gYSBtZXRhLWFuYWx5c2lzIHBhcnRseSBkZXRlcm1pbmVzCiAgdGhlIGRpZmZpY3VsdHkgaW4gZHJhd2luZyBvdmVyYWxsIGNvbmNsdXNpb25zLiBUaGlzIGV4dGVudCBtYXkgYmUgbWVhc3VyZWQgYnkKICBlc3RpbWF0aW5nIGEgYmV0d2Vlbi1zdHVkeSB2YXJpYW5jZSwgYnV0IGludGVycHJldGF0aW9uIGlzIHRoZW4gc3BlY2lmaWMgdG8gYQogIHBhcnRpY3VsYXIgdHJlYXRtZW50IGVmZmVjdCBtZXRyaWMuIEEgdGVzdCBmb3IgdGhlIGV4aXN0ZW5jZSBvZiBoZXRlcm9nZW5laXR5CiAgZXhpc3RzLCBidXQgZGVwZW5kcyBvbiB0aGUgbnVtYmVyIG9mIHN0dWRpZXMgaW4gdGhlIG1ldGEtYW5hbHlzaXMuIFdlIGRldmVsb3AKICBtZWFzdXJlcyBvZiB0aGUgaW1wYWN0IG9mIGhldGVyb2dlbmVpdHkgb24gYSBtZXRhLWFuYWx5c2lzLCBmcm9tIG1hdGhlbWF0aWNhbAogIGNyaXRlcmlhLCB0aGF0IGFyZSBpbmRlcGVuZGVudCBvZiB0aGUgbnVtYmVyIG9mIHN0dWRpZXMgYW5kIHRoZSB0cmVhdG1lbnQKICBlZmZlY3QgbWV0cmljLiBXZSBkZXJpdmUgYW5kIHByb3Bvc2UgdGhyZWUgc3VpdGFibGUgc3RhdGlzdGljczogSCBpcyB0aGUKICBzcXVhcmUgcm9vdCBvZiB0aGUgY2hpMiBoZXRlcm9nZW5laXR5IHN0YXRpc3RpYyBkaXZpZGVkIGJ5IGl0cyBkZWdyZWVzIG9mCiAgZnJlZWRvbTsgUiBpcyB0aGUgcmF0aW8gb2YgdGhlIHN0YW5kYXJkIGVycm9yIG9mIHRoZSB1bmRlcmx5aW5nIG1lYW4gZnJvbSBhCiAgcmFuZG9tIGVmZmVjdHMgbWV0YS1hbmFseXNpcyB0byB0aGUgc3RhbmRhcmQgZXJyb3Igb2YgYSBmaXhlZCBlZmZlY3QKICBtZXRhLWFuYWx5dGljIGVzdGltYXRlLCBhbmQgSTIgaXMgYSB0cmFuc2Zvcm1hdGlvbiBvZiAoSCkgdGhhdCBkZXNjcmliZXMgdGhlCiAgcHJvcG9ydGlvbiBvZiB0b3RhbCB2YXJpYXRpb24gaW4gc3R1ZHkgZXN0aW1hdGVzIHRoYXQgaXMgZHVlIHRvIGhldGVyb2dlbmVpdHkuCiAgV2UgZGlzY3VzcyBpbnRlcnByZXRhdGlvbiwgaW50ZXJ2YWwgZXN0aW1hdGVzIGFuZCBvdGhlciBwcm9wZXJ0aWVzIG9mIHRoZXNlCiAgbWVhc3VyZXMgYW5kIGV4YW1pbmUgdGhlbSBpbiBmaXZlIGV4YW1wbGUgZGF0YSBzZXRzIHNob3dpbmcgZGlmZmVyZW50IGFtb3VudHMKICBvZiBoZXRlcm9nZW5laXR5LiBXZSBjb25jbHVkZSB0aGF0IEggYW5kIEkyLCB3aGljaCBjYW4gdXN1YWxseSBiZSBjYWxjdWxhdGVkCiAgZm9yIHB1Ymxpc2hlZCBtZXRhLWFuYWx5c2VzLCBhcmUgcGFydGljdWxhcmx5IHVzZWZ1bCBzdW1tYXJpZXMgb2YgdGhlIGltcGFjdAogIG9mIGhldGVyb2dlbmVpdHkuIE9uZSBvciBib3RoIHNob3VsZCBiZSBwcmVzZW50ZWQgaW4gcHVibGlzaGVkIG1ldGEtYW5hbHlzZXMKICBpbiBwcmVmZXJlbmNlIHRvIHRoZSB0ZXN0IGZvciBoZXRlcm9nZW5laXR5Ln0sCiAgdXJsID0ge2h0dHA6Ly9keC5kb2kub3JnLzEwLjEwMDIvc2ltLjExODZ9LAogIGxhbmd1YWdlID0ge2VufQp9CgpAQVJUSUNMRXtIZWRnZXMyMDE5LXJ5LAogIHRpdGxlID0ge1N0YXRpc3RpY2FsIGFuYWx5c2VzIGZvciBzdHVkeWluZyByZXBsaWNhdGlvbjogTWV0YS1hbmFseXRpYwogIHBlcnNwZWN0aXZlc30sCiAgYXV0aG9yID0ge0hlZGdlcywgTGFycnkgViBhbmQgU2NoYXVlciwgSmFjb2IgTX0sCiAgam91cm5hbHRpdGxlID0ge1BzeWNob2xvZ2ljYWwgbWV0aG9kc30sCiAgcHVibGlzaGVyID0ge0FtZXJpY2FuIFBzeWNob2xvZ2ljYWwgQXNzb2NpYXRpb24gKEFQQSl9LAogIHZvbHVtZSA9IHsyNH0sCiAgaXNzdWUgPSB7NX0sCiAgcGFnZXMgPSB7NTU3LTU3MH0sCiAgZGF0ZSA9IHsyMDE5LTEwfSwKICBkb2kgPSB7MTAuMTAzNy9tZXQwMDAwMTg5fSwKICBwbWlkID0gezMwMDcwNTQ3fSwKICBpc3NuID0gezEwODItOTg5WCwxOTM5LTE0NjN9LAogIGFic3RyYWN0ID0ge0Zvcm1hbCBlbXBpcmljYWwgYXNzZXNzbWVudHMgb2YgcmVwbGljYXRpb24gaGF2ZSByZWNlbnRseSBiZWNvbWUKICBtb3JlIHByb21pbmVudCBpbiBzZXZlcmFsIGFyZWFzIG9mIHNjaWVuY2UsIGluY2x1ZGluZyBwc3ljaG9sb2d5LiBUaGVzZQogIGFzc2Vzc21lbnRzIGhhdmUgdXNlZCBkaWZmZXJlbnQgc3RhdGlzdGljYWwgYXBwcm9hY2hlcyB0byBkZXRlcm1pbmUgaWYgYQogIGZpbmRpbmcgaGFzIGJlZW4gcmVwbGljYXRlZC4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBhcnRpY2xlIGlzIHRvIHByb3ZpZGUgc2V2ZXJhbAogIGFsdGVybmF0aXZlIGNvbmNlcHR1YWwgZnJhbWV3b3JrcyB0aGF0IGxlYWQgdG8gZGlmZmVyZW50IHN0YXRpc3RpY2FsIGFuYWx5c2VzCiAgdG8gdGVzdCBoeXBvdGhlc2VzIGFib3V0IHJlcGxpY2F0aW9uLiBBbGwgb2YgdGhlc2UgYW5hbHlzZXMgYXJlIGJhc2VkIG9uCiAgc3RhdGlzdGljYWwgbWV0aG9kcyB1c2VkIGluIG1ldGEtYW5hbHlzaXMuIFRoZSBkaWZmZXJlbmNlcyBhbW9uZyB0aGUgbWV0aG9kcwogIGRlc2NyaWJlZCBpbnZvbHZlIHdoZXRoZXIgdGhlIGJ1cmRlbiBvZiBwcm9vZiBpcyBwbGFjZWQgb24gcmVwbGljYXRpb24gb3IKICBub25yZXBsaWNhdGlvbiwgd2hldGhlciByZXBsaWNhdGlvbiBpcyBleGFjdCBvciBhbGxvd3MgZm9yIGEgc21hbGwgYW1vdW50IG9mCiAgIm5lZ2xpZ2libGUgaGV0ZXJvZ2VuZWl0eSwiIGFuZCB3aGV0aGVyIHRoZSBzdHVkaWVzIG9ic2VydmVkIGFyZSBhc3N1bWVkIHRvIGJlCiAgZml4ZWQgKGNvbnN0aXR1dGluZyB0aGUgZW50aXJlIGJvZHkgb2YgcmVsZXZhbnQgZXZpZGVuY2UpIG9yIGFyZSBhIHNhbXBsZSBmcm9tCiAgYSB1bml2ZXJzZSBvZiBwb3NzaWJseSByZWxldmFudCBzdHVkaWVzLiBUaGUgc3RhdGlzdGljYWwgcG93ZXIgb2YgZWFjaCBvZgogIHRoZXNlIHRlc3RzIGlzIGNvbXB1dGVkIGFuZCBzaG93biB0byBiZSBsb3cgaW4gbWFueSBjYXNlcywgcmFpc2luZyBpc3N1ZXMgb2YKICB0aGUgaW50ZXJwcmV0YWJpbGl0eSBvZiB0ZXN0cyBmb3IgcmVwbGljYXRpb24uIChQc3ljSU5GTyBEYXRhYmFzZSBSZWNvcmQgKGMpCiAgMjAxOSBBUEEsIGFsbCByaWdodHMgcmVzZXJ2ZWQpLn0sCiAgdXJsID0ge2h0dHA6Ly9keC5kb2kub3JnLzEwLjEwMzcvbWV0MDAwMDE4OX0sCiAgZmlsZSA9IHtIZWRnZXMgYW5kIFNjaGF1ZXIgMjAxOSAtIFN0YXRpc3RpY2FsIGFuYWx5c2VzIGZvciBzdHVkeWluZyByZXBsaWNhdGlvbiAtIE1ldGEtYW5hbHl0aWMgcGVyc3BlY3RpdmVzLnBkZn0sCiAga2V5d29yZHMgPSB7cmVwbGljYXRpb24tbWV0aG9kc30sCiAgbGFuZ3VhZ2UgPSB7ZW59Cn0KCkBBUlRJQ0xFe1JpbGV5MjAxMS1ocCwKICB0aXRsZSA9IHtJbnRlcnByZXRhdGlvbiBvZiByYW5kb20gZWZmZWN0cyBtZXRhLWFuYWx5c2VzfSwKICBhdXRob3IgPSB7UmlsZXksIFJpY2hhcmQgRCBhbmQgSGlnZ2lucywgSnVsaWFuIFAgVCBhbmQgRGVla3MsIEpvbmF0aGFuIEp9LAogIGpvdXJuYWx0aXRsZSA9IHtCTUp9LAogIHZvbHVtZSA9IHszNDJ9LAogIHBhZ2VzID0ge2Q1NDl9LAogIGRhdGUgPSB7MjAxMS0wMi0xMH0sCiAgZG9pID0gezEwLjExMzYvYm1qLmQ1NDl9LAogIHBtaWQgPSB7MjEzMTA3OTR9LAogIGlzc24gPSB7MDk1OS04MTM4LDE3NTYtMTgzM30sCiAgdXJsID0ge2h0dHA6Ly9keC5kb2kub3JnLzEwLjExMzYvYm1qLmQ1NDl9LAogIGtleXdvcmRzID0ge01BIFVuY29uc2Npb3VzIFdNfSwKICBsYW5ndWFnZSA9IHtlbn0KfQoKQEFSVElDTEV7SW50SG91dDIwMTYtc3osCiAgdGl0bGUgPSB7UGxlYSBmb3Igcm91dGluZWx5IHByZXNlbnRpbmcgcHJlZGljdGlvbiBpbnRlcnZhbHMgaW4gbWV0YS1hbmFseXNpc30sCiAgYXV0aG9yID0ge0ludEhvdXQsIEpvYW5uYSBhbmQgSW9hbm5pZGlzLCBKb2huIFAgQSBhbmQgUm92ZXJzLCBNYXJvZXNrYSBNIGFuZAogIEdvZW1hbiwgSmVsbGUgSn0sCiAgam91cm5hbHRpdGxlID0ge0JNSiBvcGVufSwKICB2b2x1bWUgPSB7Nn0sCiAgaXNzdWUgPSB7N30sCiAgcGFnZXMgPSB7ZTAxMDI0N30sCiAgZGF0ZSA9IHsyMDE2LTA3LTEyfSwKICBkb2kgPSB7MTAuMTEzNi9ibWpvcGVuLTIwMTUtMDEwMjQ3fSwKICBwbWMgPSB7UE1DNDk0Nzc1MX0sCiAgcG1pZCA9IHsyNzQwNjYzN30sCiAgaXNzbiA9IHsyMDQ0LTYwNTV9LAogIGFic3RyYWN0ID0ge09CSkVDVElWRVM6IEV2YWx1YXRpbmcgdGhlIHZhcmlhdGlvbiBpbiB0aGUgc3RyZW5ndGggb2YgdGhlIGVmZmVjdAogIGFjcm9zcyBzdHVkaWVzIGlzIGEga2V5IGZlYXR1cmUgb2YgbWV0YS1hbmFseXNlcy4gVGhpcyB2YXJpYWJpbGl0eSBpcwogIHJlZmxlY3RlZCBieSBtZWFzdXJlcyBsaWtlIM+EKDIpIG9yIEkoMiksIGJ1dCB0aGVpciBjbGluaWNhbCBpbnRlcnByZXRhdGlvbiBpcwogIG5vdCBzdHJhaWdodGZvcndhcmQuIEEgcHJlZGljdGlvbiBpbnRlcnZhbCBpcyBsZXNzIGNvbXBsaWNhdGVkOiBpdCBwcmVzZW50cwogIHRoZSBleHBlY3RlZCByYW5nZSBvZiB0cnVlIGVmZmVjdHMgaW4gc2ltaWxhciBzdHVkaWVzLiBXZSBhaW1lZCB0byBzaG93IHRoZQogIGFkdmFudGFnZXMgb2YgaGF2aW5nIHRoZSBwcmVkaWN0aW9uIGludGVydmFsIHJvdXRpbmVseSByZXBvcnRlZCBpbgogIG1ldGEtYW5hbHlzZXMuIERFU0lHTjogV2Ugc2hvdyBob3cgdGhlIHByZWRpY3Rpb24gaW50ZXJ2YWwgY2FuIGhlbHAgdW5kZXJzdGFuZAogIHRoZSB1bmNlcnRhaW50eSBhYm91dCB3aGV0aGVyIGFuIGludGVydmVudGlvbiB3b3JrcyBvciBub3QuIFRvIGV2YWx1YXRlIHRoZQogIGltcGxpY2F0aW9ucyBvZiB1c2luZyB0aGlzIGludGVydmFsIHRvIGludGVycHJldCB0aGUgcmVzdWx0cywgd2Ugc2VsZWN0ZWQgdGhlCiAgZmlyc3QgbWV0YS1hbmFseXNpcyBwZXIgaW50ZXJ2ZW50aW9uIHJldmlldyBvZiB0aGUgQ29jaHJhbmUgRGF0YWJhc2Ugb2YKICBTeXN0ZW1hdGljIFJldmlld3MgSXNzdWVzIDIwMDktMjAxMyB3aXRoIGEgZGljaG90b21vdXMgKG49MjAwOSkgb3IgY29udGludW91cwogIChuPTEyNTQpIG91dGNvbWUsIGFuZCBnZW5lcmF0ZWQgOTVcJSBwcmVkaWN0aW9uIGludGVydmFscyBmb3IgdGhlbS4gUkVTVUxUUzoKICBJbiA3Mi40XCUgb2YgNDc5IHN0YXRpc3RpY2FsbHkgc2lnbmlmaWNhbnQgKHJhbmRvbS1lZmZlY3RzIHAwKSwgdGhlIDk1XCUKICBwcmVkaWN0aW9uIGludGVydmFsIHN1Z2dlc3RlZCB0aGF0IHRoZSBpbnRlcnZlbnRpb24gZWZmZWN0IGNvdWxkIGJlIG51bGwgb3IKICBldmVuIGJlIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uIEluIDIwLjNcJSBvZiB0aG9zZSA0NzkgbWV0YS1hbmFseXNlcywgdGhlCiAgcHJlZGljdGlvbiBpbnRlcnZhbCBzaG93ZWQgdGhhdCB0aGUgZWZmZWN0IGNvdWxkIGJlIGNvbXBsZXRlbHkgb3Bwb3NpdGUgdG8gdGhlCiAgcG9pbnQgZXN0aW1hdGUgb2YgdGhlIG1ldGEtYW5hbHlzaXMuIFdlIGRlbW9uc3RyYXRlIGFsc28gaG93IHRoZSBwcmVkaWN0aW9uCiAgaW50ZXJ2YWwgY2FuIGJlIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBwcm9iYWJpbGl0eSB0aGF0IGEgbmV3IHRyaWFsIHdpbGwgc2hvdyBhCiAgbmVnYXRpdmUgZWZmZWN0IGFuZCB0byBpbXByb3ZlIHRoZSBjYWxjdWxhdGlvbnMgb2YgdGhlIHBvd2VyIG9mIGEgbmV3IHRyaWFsLgogIENPTkNMVVNJT05TOiBUaGUgcHJlZGljdGlvbiBpbnRlcnZhbCByZWZsZWN0cyB0aGUgdmFyaWF0aW9uIGluIHRyZWF0bWVudAogIGVmZmVjdHMgb3ZlciBkaWZmZXJlbnQgc2V0dGluZ3MsIGluY2x1ZGluZyB3aGF0IGVmZmVjdCBpcyB0byBiZSBleHBlY3RlZCBpbgogIGZ1dHVyZSBwYXRpZW50cywgc3VjaCBhcyB0aGUgcGF0aWVudHMgdGhhdCBhIGNsaW5pY2lhbiBpcyBpbnRlcmVzdGVkIHRvIHRyZWF0LgogIFByZWRpY3Rpb24gaW50ZXJ2YWxzIHNob3VsZCBiZSByb3V0aW5lbHkgcmVwb3J0ZWQgdG8gYWxsb3cgbW9yZSBpbmZvcm1hdGl2ZQogIGluZmVyZW5jZXMgaW4gbWV0YS1hbmFseXNlcy59LAogIHVybCA9IHtodHRwOi8vZHguZG9pLm9yZy8xMC4xMTM2L2Jtam9wZW4tMjAxNS0wMTAyNDd9LAogIGtleXdvcmRzID0ge0NsaW5pY2FsIHRyaWFsOyBDb2NocmFuZSBEYXRhYmFzZSBvZiBTeXN0ZW1hdGljIFJldmlld3M7CiAgSGV0ZXJvZ2VuZWl0eTsgTWV0YS1hbmFseXNpczsgUHJlZGljdGlvbiBpbnRlcnZhbDsgUmFuZG9tIGVmZmVjdHM7TUEKICBVbmNvbnNjaW91cyBXTTtCYXllc2lhbiBTdGF0aXN0aWNzfSwKICBsYW5ndWFnZSA9IHtlbn0KfQoKQEFSVElDTEV7QnJhbm5pY2syMDE5LWh2LAogIHRpdGxlID0ge0JpYXMgYW5kIHByZWNpc2lvbiBvZiBhbHRlcm5hdGUgZXN0aW1hdG9ycyBpbiBtZXRhLWFuYWx5c2lzOiBCZW5lZml0cwogIG9mIGJsZW5kaW5nIFNjaG1pZHQtSHVudGVyIGFuZCBIZWRnZXMgYXBwcm9hY2hlc30sCiAgYXV0aG9yID0ge0JyYW5uaWNrLCBNaWNoYWVsIFQgYW5kIFBvdHRlciwgU2VhbiBNIGFuZCBCZW5pdGV6LCBCcnlhbiBhbmQKICBNb3JyaXMsIFNjb3R0IEJ9LAogIGpvdXJuYWx0aXRsZSA9IHtPcmdhbml6YXRpb25hbCByZXNlYXJjaCBtZXRob2RzfSwKICBwdWJsaXNoZXIgPSB7U0FHRSBQdWJsaWNhdGlvbnN9LAogIHZvbHVtZSA9IHsyMn0sCiAgaXNzdWUgPSB7Mn0sCiAgcGFnZXMgPSB7NDkwLTUxNH0sCiAgZGF0ZSA9IHsyMDE5LTA0fSwKICBkb2kgPSB7MTAuMTE3Ny8xMDk0NDI4MTE3NzQxOTY2fSwKICBpc3NuID0gezEwOTQtNDI4MSwxNTUyLTc0MjV9LAogIGFic3RyYWN0ID0ge1dlIGRlc2NyaWJlIGEgbmV3IGVzdGltYXRvciAobGFiZWxlZCBNb3JyaXMpIGZvciBtZXRhLWFuYWx5c2lzLgogIFRoZSBNb3JyaXMgZXN0aW1hdG9yIGNvbWJpbmVzIGVsZW1lbnRzIG9mIGJvdGggdGhlIFNjaG1pZHQtSHVudGVyIGFuZCBIZWRnZXMKICBlc3RpbWF0b3JzLiBUaGUgbmV3IGVzdGltYXRvciBpcyBjb21wYXJlZCB0byAoYSkgdGhlIFNjaG1pZHQtSHVudGVyIGVzdGltYXRvciwKICAoYikgdGhlIFNjaG1pZHQtSHVudGVyIGVzdGltYXRvciB3aXRoIHZhcmlhbmNlIGNvcnJlY3Rpb24gZm9yIHRoZSBudW1iZXIgb2YKICBzdHVkaWVzICjigJwgayBjb3JyZWN0aW9u4oCdKSwgKGMpIHRoZSBIZWRnZXMgcmFuZG9tLWVmZmVjdHMgZXN0aW1hdG9yLCBhbmQgKGQpCiAgdGhlIEJvbmV0dCB1bml0IHdlaWdodHMgZXN0aW1hdG9yIGluIGEgTW9udGUgQ2FybG8gc2ltdWxhdGlvbi4gVGhlIHNpbXVsYXRpb24KICB3YXMgZGVzaWduZWQgdG8gcmVwcmVzZW50IHJlYWxpc3RpYyBjb25kaXRpb25zIGZhY2VkIGJ5IHJlc2VhcmNoZXJzLCBpbmNsdWRpbmcKICBwb3B1bGF0aW9uIHJhbmRvbS1lZmZlY3RzIGRpc3RyaWJ1dGlvbnMsIG51bWJlcnMgb2Ygc3R1ZGllcywgYW5kIHNrZXdlZCBzYW1wbGUKICBzaXplIGRpc3RyaWJ1dGlvbnMuIFRoZSBzaW11bGF0aW9uIHdhcyB1c2VkIHRvIGV2YWx1YXRlIHRoZSBlc3RpbWF0b3JzIHdpdGgKICByZXNwZWN0IHRvIGJpYXMsIGNvdmVyYWdlIG9mIHRoZSA5NVwlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgb2YgdGhlIG1lYW4sIGFuZAogIHJvb3QgbWVhbiBzcXVhcmUgZXJyb3Igb2YgZXN0aW1hdGVzIG9mIHRoZSBwb3B1bGF0aW9uIG1lYW4uIFdlIGFsc28gZXZhbHVhdGVkCiAgdGhlIHF1YWxpdHkgb2YgY3JlZGliaWxpdHkgaW50ZXJ2YWxzLiBPdmVyYWxsLCB0aGUgbmV3IGVzdGltYXRvciBwcm92aWRlcwogIGJldHRlciBjb3ZlcmFnZSBhbmQgc2xpZ2h0bHkgYmV0dGVyIGNyZWRpYmlsaXR5IHZhbHVlcyB0aGFuIG90aGVyIGNvbW1vbmx5CiAgdXNlZCBtZXRob2RzLiBUaHVzIGl0IGhhcyBhZHZhbnRhZ2VzIG9mIGJvdGggY29tbW9ubHkgdXNlZCBhcHByb2FjaGVzIHdpdGhvdXQKICB0aGUgYXBwYXJlbnQgZGlzYWR2YW50YWdlcy4gVGhlIG5ldyBlc3RpbWF0b3IgY2FuIGJlIGltcGxlbWVudGVkIGVhc2lseSB3aXRoCiAgZXhpc3Rpbmcgc29mdHdhcmU7IHNvZnR3YXJlIHVzZWQgaW4gdGhlIHN0dWR5IGlzIGF2YWlsYWJsZSBvbmxpbmUsIGFuZCBhbgogIGV4YW1wbGUgaXMgaW5jbHVkZWQgaW4gdGhlIGFwcGVuZGl4IGluIHRoZSBTdXBwbGVtZW50YWwgTWF0ZXJpYWwgYXZhaWxhYmxlCiAgb25saW5lLn0sCiAgdXJsID0ge2h0dHBzOi8vam91cm5hbHMuc2FnZXB1Yi5jb20vZG9pL2Ficy8xMC4xMTc3LzEwOTQ0MjgxMTc3NDE5NjZ9LAogIGxhbmd1YWdlID0ge2VufQp9CgpAQVJUSUNMRXtWaWVjaHRiYXVlcjIwMDUtenQsCiAgdGl0bGUgPSB7QmlhcyBhbmQgZWZmaWNpZW5jeSBvZiBtZXRhLWFuYWx5dGljIHZhcmlhbmNlIGVzdGltYXRvcnMgaW4gdGhlCiAgcmFuZG9tLWVmZmVjdHMgbW9kZWx9LAogIGF1dGhvciA9IHtWaWVjaHRiYXVlciwgV29sZmdhbmd9LAogIGpvdXJuYWx0aXRsZSA9IHtKb3VybmFsIG9mIGVkdWNhdGlvbmFsIGFuZCBiZWhhdmlvcmFsIHN0YXRpc3RpY3M6IGEgcXVhcnRlcmx5CiAgcHVibGljYXRpb24gc3BvbnNvcmVkIGJ5IHRoZSBBbWVyaWNhbiBFZHVjYXRpb25hbCBSZXNlYXJjaCBBc3NvY2lhdGlvbiBhbmQgdGhlCiAgQW1lcmljYW4gU3RhdGlzdGljYWwgQXNzb2NpYXRpb259LAogIHB1Ymxpc2hlciA9IHtBbWVyaWNhbiBFZHVjYXRpb25hbCBSZXNlYXJjaCBBc3NvY2lhdGlvbiAoQUVSQSl9LAogIHZvbHVtZSA9IHszMH0sCiAgaXNzdWUgPSB7M30sCiAgcGFnZXMgPSB7MjYxLTI5M30sCiAgZGF0ZSA9IHsyMDA1LTA5fSwKICBkb2kgPSB7MTAuMzEwMi8xMDc2OTk4NjAzMDAwMzI2MX0sCiAgaXNzbiA9IHsxMDc2LTk5ODYsMTkzNS0xMDU0fSwKICBhYnN0cmFjdCA9IHtUaGUgbWV0YS1hbmFseXRpYyByYW5kb20gZWZmZWN0cyBtb2RlbCBhc3N1bWVzIHRoYXQgdGhlCiAgdmFyaWFiaWxpdHkgaW4gZWZmZWN0IHNpemUgZXN0aW1hdGVzIGRyYXduIGZyb20gYSBzZXQgb2Ygc3R1ZGllcyBjYW4gYmUKICBkZWNvbXBvc2VkIGludG8gdHdvIHBhcnRzOiBoZXRlcm9nZW5laXR5IGR1ZSB0byByYW5kb20gcG9wdWxhdGlvbiBlZmZlY3RzIGFuZAogIHNhbXBsaW5nIHZhcmlhbmNlLiBJbiB0aGlzIGNvbnRleHQsIHRoZSB1c3VhbCBnb2FsIGlzIHRvIGVzdGltYXRlIHRoZSBjZW50cmFsCiAgdGVuZGVuY3kgYW5kIHRoZSBhbW91bnQgb2YgaGV0ZXJvZ2VuZWl0eSBpbiB0aGUgcG9wdWxhdGlvbiBlZmZlY3Qgc2l6ZXMuIFRoZQogIGFtb3VudCBvZiBoZXRlcm9nZW5laXR5IGluIGEgc2V0IG9mIGVmZmVjdCBzaXplcyBoYXMgaW1wbGljYXRpb25zIHJlZ2FyZGluZwogIHRoZSBpbnRlcnByZXRhdGlvbiBvZiB0aGUgbWV0YS1hbmFseXRpYyBmaW5kaW5ncyBhbmQgb2Z0ZW4gc2VydmVzIGFzIGFuCiAgaW5kaWNhdG9yIGZvciB0aGUgcHJlc2VuY2Ugb2YgcG90ZW50aWFsIG1vZGVyYXRvciB2YXJpYWJsZXMuIEZpdmUgcG9wdWxhdGlvbgogIGhldGVyb2dlbmVpdHkgZXN0aW1hdG9ycyB3ZXJlIGNvbXBhcmVkIGluIHRoaXMgYXJ0aWNsZSBhbmFseXRpY2FsbHkgYW5kIHZpYQogIE1vbnRlIENhcmxvIHNpbXVsYXRpb25zIHdpdGggcmVzcGVjdCB0byB0aGVpciBiaWFzIGFuZCBlZmZpY2llbmN5Ln0sCiAgdXJsID0ge2h0dHBzOi8vc2Nob2xhci5nb29nbGUuY29tL2NpdGF0aW9ucz92aWV3X29wPXZpZXdfY2l0YXRpb24maGw9ZW4mdXNlcj1KODlSWEprQUFBQUomY2l0YXRpb25fZm9yX3ZpZXc9Sjg5UlhKa0FBQUFKOnFqTWFrRkhEeTdzQ30sCiAgbGFuZ3VhZ2UgPSB7ZW59Cn0KCkBCT09Le0hhcnJlcjIwMjEtZ28sCiAgdGl0bGUgPSB7RG9pbmcgbWV0YS1hbmFseXNpcyB3aXRoIFI6IEEgaGFuZHMtb24gZ3VpZGV9LAogIGF1dGhvciA9IHtIYXJyZXIsIE1hdGhpYXMgYW5kIEN1aWpwZXJzLCBQaW0gYW5kIEZ1cnVrYXdhLCBUb3NoaSBhbmQgRWJlcnQsCiAgRGF2aWR9LAogIHB1Ymxpc2hlciA9IHtDUkMgUHJlc3N9LAogIGxvY2F0aW9uID0ge0xvbmRvbiwgRW5nbGFuZH0sCiAgZWRpdGlvbiA9IHsxc3R9LAogIGRhdGUgPSB7MjAyMS0wOS0xM30sCiAgcGFnZXRvdGFsID0gezQ3NH0sCiAgaXNibiA9IHs5NzgwMzY3NjEwMDc0fSwKICBsYW5ndWFnZSA9IHtlbn0KfQoK\" download=\"refs_to_download.bib\"> Download .bib file</a></button> {.refs}\n\n::: {#refs}\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}