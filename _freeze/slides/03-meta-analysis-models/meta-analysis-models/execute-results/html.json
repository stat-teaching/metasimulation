{
  "hash": "b32a3508a95c3ae30f3e66cf314c2289",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Meta-analysis Models\nsubtitle: CSA 2024\n---\n\n\n\n\n\n\n# Simulation setup {.section}\n\n## Notation {.smaller}\n\nMeta-analysis notation is a little bit inconsistent in textbooks and papers. We define here some rules to simplify the work.\n\n- $k$ is the number of studies\n- $n_j$ is the sample size of the group $j$ within a study\n- $y_i$ are the observed effect size included in the meta-analysis\n- $\\sigma_i^2$ are the observed sampling variance of studies and $\\epsilon_i$ are the sampling errors\n- $\\theta$ is the equal-effects parameter (see @eq-ee1)\n- $\\delta_i$ is the random-effect (see @eq-re-mod2)\n- $\\mu_\\theta$ is the average effect of a random-effects model (see @eq-re-mod1)\n- $w_i$ are the meta-analysis weights\n- $\\tau^2$ is the heterogeneity (see @eq-re-mod2)\n- $\\Delta$ is the (generic) population effect size\n- $s_j^2$ is the variance of the group $j$ within a study\n\n## Simulation setup\n\nGiven the introduction to effect sizes, from now we will simulate data using UMD and the individual-level data. \n\nBasically we are simulating an effect size $D$ coming from the comparison of two independent groups $G_1$ and $G_2$.\n\nEach group is composed by $n$ participants measured on a numerical outcome (e.g., reaction times)\n\n## Simulation setup\n\nA more general, clear and realistic approach to simulate data is by generating $k$ studies with same/different sample sizes and (later) true effect sizes.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 10 # number of studies\nn1 <- n2 <- 10 + rpois(k, 30 - 10) # sample size from poisson distribution with lambda 40 and minimum 10\nD <- 0.5 # effect size\n\nyi <- rep(NA, k)\nvi <- rep(NA, k)\n  \nfor(i in 1:k){\n  g1 <- rnorm(n1[i], 0, 1)\n  g2 <- rnorm(n2[i], D, 1)\n  yi[i] <- mean(g2) - mean(g1)\n  vi[i] <- var(g1)/n1[i] + var(g2)/n2[i]\n}\n  \nsim <- data.frame(id = 1:k, yi, vi)\n\nhead(sim)\n#>   id         yi         vi\n#> 1  1  0.4378059 0.03923595\n#> 2  2  0.9297779 0.05841354\n#> 3  3 -0.1313321 0.07501271\n#> 4  4  0.3465024 0.09547210\n#> 5  5  0.5029728 0.05942748\n#> 6  6  0.4497768 0.08466673\n```\n:::\n\n\n## Simulation setup\n\nWe can again put everything within a function:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nsim_studies <- function(k, es, n1, n2 = NULL){\n  if(length(n1) == 1) n1 <- rep(n1, k)\n  if(is.null(n2)) n2 <- n1\n  if(length(es) == 1) es <- rep(es, k)\n  \n  yi <- rep(NA, k)\n  vi <- rep(NA, k)\n  \n  for(i in 1:k){\n    g1 <- rnorm(n1[i], 0, 1)\n    g2 <- rnorm(n2[i], es[i], 1)\n    yi[i] <- mean(g2) - mean(g1)\n    vi[i] <- var(g1)/n1[i] + var(g2)/n2[i]\n  }\n  \n  sim <- data.frame(id = 1:k, yi, vi, n1 = n1, n2 = n2)\n  \n  # convert to escalc for using metafor methods\n  sim <- metafor::escalc(yi = yi, vi = vi, data = sim)\n  \n  return(sim)\n}\n```\n:::\n\n\n## Simulation setup - Disclaimer\n\nThe proposed simulation approach using a `for` loop and separated vectors. For the purposed of the workshop this is the best option. In real-world meta-analysis simulations you can choose a more functional approach starting from a simulation grid as `data.frame` and mapping the simulation functions.\n\nFor some examples see:\n\n- @Gambarota2023-on\n- [www.jepusto.com/simulating-correlated-smds](https://www.jepusto.com/simulating-correlated-smds)\n\n# Combining studies {.section}\n\n## Combining studies\n\nLet's imagine to have $k = 10$ studies, a $D = 0.5$ and heterogeneous sample sizes in each study.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 10\nD <- 0.5\nn <- 10 + rpois(k, lambda = 20) \ndat <- sim_studies(k = k, es = D, n1 = n)\nhead(dat)\n#> \n#>   id     yi     vi n1 n2 \n#> 1  1 0.8319 0.0734 29 29 \n#> 2  2 0.5009 0.0501 28 28 \n#> 3  3 0.3937 0.0560 33 33 \n#> 4  4 0.4665 0.0823 22 22 \n#> 5  5 0.2819 0.0754 21 21 \n#> 6  6 1.2067 0.0951 27 27\n```\n:::\n\n\n. . .\n\nWhat is the best way to combine the studies?\n\n## Combining studies\n\nWe can take the average effect size and considering it as a huge study. This can be considered the best way to combine the effects.\n\n$$\n\\hat{D} = \\frac{\\sum^{k}_{i = 1} D_i}{k}\n$$\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmean(dat$yi)\n#> [1] 0.5672026\n```\n:::\n\n\n. . .\n\nIt is appropriate? What do you think? Are we missing something?\n\n## Weighting studies\n\nWe are not considering that some studies, despite providing a similar effect size could give more information. An higher sample size (or lower sampling variance) produce a more reliable estimation.\n\n. . .\n\nWould you trust more a study with $n = 100$ and $D = 0.5$ or a study with $n = 10$ and $D = 0.5$? The \"meta-analysis\" that we did before is completely ignoring this information.\n\n## Weighting studies\n\nWe need to find a value (called weight $w_i$) that allows assigning more trust to a study because it provide more information. \n\n. . .\n\nThe simplest weights are just the sample size, but in practice we use the so-called **inverse-variance weighting**. We use the (inverse) of the sampling variance of the effect size to weight each study. \n\n. . .\n\nThe basic version of a meta-analysis is just a **weighted average**:\n\n$$\n\\overline D_w = \\frac{\\sum^k_{i = 1}{w_iD_i}}{\\sum^k_{i = 1}{w_i}}\n$$\n\n. . .\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwi <- 1/dat$vi\nsum(dat$yi * wi) / sum(wi)\n#> [1] 0.5473616\n# weighted.mean(dat$yi, wi)\n```\n:::\n\n\n## Weighting studies\n\nGraphically, the two models can be represented in this way:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-8-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n# Equal-effects (EE) meta-analysis {.section}\n\n## EE meta-analysis\n\nWhat we did in the last example (the weighted mean) is the exactly a meta-analysis model called **equal-effects** (or less precisely fixed-effect). The assumptions are very simple:\n\n- there is a unique, true effect size to estimate $\\theta$\n- each study is a more or less precise estimate of $\\theta$\n- there is no TRUE variability among studies. The observed variability is due to studies that are imprecise (i.e., sampling error)\n- assuming that each study has a very large sample size, the observed variability is close to zero.\n\n## EE meta-analysis, formally\n\n$$\ny_i = \\theta + \\epsilon_i\n$$ {#eq-ee1}\n\n$$\n\\epsilon_i \\sim \\mathcal{N}(0, \\sigma^2_i)\n$$ {#eq-ee2}\n\nWhere $\\sigma^2_i$ is the vector of sampling variabilities of $k$ studies. This is a standard linear model but with heterogeneous sampling variances.\n\n## EE meta-analysis\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-9-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Simulating an EE model\n\nWhat we were doing with the `sim_studies()` function so far was simulating an EE model. In fact, there were a single $\\theta$ parameter and the observed variability was a function of the `rnorm()` randomness.\n\nBased on previous assumptions and thinking a little bit, what could be the result of simulating studies with a very large $n$?\n\n. . .\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nns <- c(10, 50, 100, 1000, 1e4)\nD <- 0.5\ndats <- lapply(ns, function(n) sim_studies(10, es = D, n1 = n))\n```\n:::\n\n\n## Simulating an EE modelm {#sec-ee-impact-n}\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-11-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Simulating an EE model\n\nFormulating the model as a intercept-only regression (see Equations [@eq-ee1] and [@eq-ee2]) we can generate data directly:\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\nAs we did for the aggregated data approach. Clearly we need to simulate also the `vi` vector from the appropriate distribution. Given that we simulated data starting from the participant-level the uncertainty of `yi` and `vi` is already included.\n\n## Fitting an EE model\n\nThe model can be fitted using the `metafor::rma()` function, with `method = \"EE\"`^[There is a confusion about the *fixed-effects* vs *fixed-effect* (no *s*) and *equal-effects* models. See [https://wviechtb.github.io/metafor/reference/misc-models.html](https://wviechtb.github.io/metafor/reference/misc-models.html)].\n\n\n::: {.cell layout-align=\"center\"}\n\n```\n#> \n#> Equal-Effects Model (k = 15)\n#> \n#>   logLik  deviance       AIC       BIC      AICc   \n#>  -1.8216   15.3742    5.6432    6.3513    5.9509   \n#> \n#> I^2 (total heterogeneity / total variability):   8.94%\n#> H^2 (total variability / sampling variability):  1.10\n#> \n#> Test for Heterogeneity:\n#> Q(df = 14) = 15.3742, p-val = 0.3531\n#> \n#> Model Results:\n#> \n#> estimate      se    zval    pval   ci.lb   ci.ub      \n#>   0.3798  0.0684  5.5537  <.0001  0.2458  0.5138  *** \n#> \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n\n## Interpreting an EE model\n\n- The first section (`logLik`, `deviance`, etc.) presents some general model statistics and information criteria\n- The $I^2$ and $H^2$ are statistics evaluating the observed heterogeneity (see next slides)\n- The `Test of Heterogeneity` section presents the test of the $Q$ statistics for the observed heterogeneity (see next slides)\n- The `Model Results` section presents the estimation of the $\\theta$ parameter along with the standard error and the Wald $z$ test ($H_0: \\theta = 0$)\n\nThe `metafor` package has a several well documented functions to calculate and plot model results, residuals analysis etc.\n\n## Interpreting an EE model\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-14-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Interpreting an EE Model\n\nThe main function for plotting model results is the `forest()` function that produce the forest plot.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-15-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Interpreting an EE Model\n\nWe did not introduced the concept of heterogeneity, but the $I^2$, $H^2$ and $Q$ statistics basically evaluate if the observed heterogeneity should be attributed to **sampling variability** (uncertainty in estimating $\\theta$ because we have a limited $k$ and $n$) or **sampling variability** plus other sources of heterogeneity.\n\n## EE model as a weighted Average\n\nFormally $\\theta$ is estimated as [see @Borenstein2009-mo, p. 66]\n\n$$\n\\hat{\\theta} = \\frac{\\sum^k_{i = 1}{w_iy_i}}{\\sum^k_{i = 1}{w_i}}; \\;\\;\\; w_i = \\frac{1}{\\sigma^2_i}\n$$\n\n$$\nSE_{\\theta} = \\frac{1}{\\sum^k_{i = 1}{w_i}}\n$$\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwi <- 1/dat$vi\ntheta_hat <- with(dat, sum(yi * wi)/sum(wi))\nse_theta_hat <- sqrt(1/sum(wi))\nc(theta = theta_hat, se = se_theta_hat, z = theta_hat / se_theta_hat)\n#>      theta         se          z \n#> 0.37977974 0.06838334 5.55368810\n```\n:::\n\n\n# Random-effects (RE) meta-analysis {.section}\n\n## Are the EE assumptions realistic?\n\nThe EE model is appropriate if our studies are somehow **exact replications** of the exact same effect. We are assuming that there is **no real variability**.\n\n. . .\n\nHowever, meta-analysis rarely report the results of $k$ exact replicates. It is more common to include **studies answering the same research question** but with different methods, participants, etc.\n\n. . .\n\n- people with different ages or other participant-level differences\n- different methodology\n- ...\n\n## Are the EE assumptions realistic?\n\n. . .\n\nIf we relax the previous assumption we are able to combine studies that are not exact replications. \n\n. . .\n\nThus the real effect $\\theta$ is no longer a single **true** value but can be larger or smaller in some conditions.\n\n. . .\n\nIn other terms we are assuming that there could be some variability (i.e., **heterogeneity**) among studies that is independent from the sample size. Even with studies with $\\lim_{n\\to\\infty}$ the observed variability is not zero.\n\n## Random-effects model (RE)\n\nWe can extend the EE model including another source of variability, $\\tau^2$. $\\tau^2$ is the true heterogeneity among studies caused by methdological differences or intrisic variability in the phenomenon.\n\nFormally we can extend @eq-ee1 as:\n$$\ny_i = \\mu_{\\theta} + \\delta_i + \\epsilon_i\n$$ {#eq-re-mod1}\n\n$$\n\\delta_i \\sim \\mathcal{N}(0, \\tau^2)\n$$ {#eq-re-mod2}\n\n$$\n\\epsilon_i \\sim \\mathcal{N}(0, \\sigma^2_i)\n$$\n\nWhere $\\mu_{\\theta}$ is the average effect size and $\\delta_i$ is the study-specific deviation from the average effect (regulated by $\\tau^2$). Clearly each study specific effect is $\\theta_i = \\mu_{\\theta} + \\delta_i$.\n\n## RE model\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-17-1.svg){fig-align='center' width=60%}\n:::\n:::\n\n\n## RE model estimation\n\nGiven that we extended the EE model equation. Also the estimation of the average effect need to be extended. Basically the RE is still a weighted average but weights need to include also $\\tau^2$.\n\n$$\n\\overline y = \\frac{\\sum_{i = 1}^k y_iw^*_i}{\\sum_{i = 1}^k w^*_i}\n$$ {#eq-re1}\n\n$$\nw^*_i = \\frac{1}{\\sigma^2_i + \\tau^2}\n$$ {#eq-re2}\n\nThe weights are different compared to the EE model. Extremely precise/imprecise studies will have less impact in the RE model.\n\n## RE vs EE model\n\nThe crucial difference with the EE model is that even with large $n$, only the $\\mu_{\\theta} + \\delta_i$ are estimated (almost) without error. As long $\\tau^2 \\neq 0$ there will be variability in the effect sizes.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-18-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Simulating a RE Model\n\nTo simulate the RE model we simply need to include $\\tau^2$ in the EE model simulation.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 15 # number of studies\nmu <- 0.5 # average effect\ntau2 <- 0.1 # heterogeneity\nn <- 10 + rpois(k, 30 - 10) # sample size\ndeltai <- rnorm(k, 0, sqrt(tau2)) # random-effects\nthetai <- mu + deltai # true study effect\n\ndat <- sim_studies(k = k, es = thetai, n1 = n)\n\nhead(dat)\n#> \n#>   id      yi     vi n1 n2 \n#> 1  1  0.4744 0.0700 30 30 \n#> 2  2  0.5973 0.0587 32 32 \n#> 3  3  0.5678 0.0920 28 28 \n#> 4  4 -0.1278 0.0594 31 31 \n#> 5  5  0.5915 0.0780 33 33 \n#> 6  6  0.1417 0.0935 22 22\n```\n:::\n\n\n## Simulating a RE model\n\nAgain, we can put everything within a function expanding the previous `sim_studies()` by including $\\tau^2$:\n\n\n::: {.cell layout-align=\"center\"}\n```r\n```\n:::\n\n\n## Simulating a RE model\n\nThe data are similar to the EE simulation but we have an extra source of heterogeneity.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-21-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Simulating a RE model\n\nTo see the actual impact of $\\tau^2$ we can follow the same approach of @sec-ee-impact-n thus using a large $n$. The sampling variance `vi` of each study is basically 0.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# ... other parameters as before\nn <- 1e4\ndeltai <- rnorm(k, 0, sqrt(tau2)) # random-effects\nthetai <- mu + deltai # true study effect\ndat <- sim_studies(k = k, es = thetai, n1 = n)\n# or equivalently \n# dat <- sim_studies(k = k, es = mu, tau2 = tau2, n1 = n)\n\nhead(dat)\n#> \n#>   id      yi     vi    n1    n2 \n#> 1  1  0.1485 0.0002 10000 10000 \n#> 2  2  0.4897 0.0002 10000 10000 \n#> 3  3 -0.2400 0.0002 10000 10000 \n#> 4  4  0.2305 0.0002 10000 10000 \n#> 5  5  0.3771 0.0002 10000 10000 \n#> 6  6  0.4781 0.0002 10000 10000\n```\n:::\n\n\n## Simulating a RE Model\n\nClearly, compared to @sec-ee-impact-n, even with large $n$ the variability is not reduced because $\\tau^2 \\neq 0$. As $\\tau^2$ approach zero the EE and RE models are similar.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-23-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## RE model estimation\n\nGiven that we extended the EE model equation. Also the estimation of the average effect need to be extended. Basically the RE is still a weighted average but weights need to include also $\\tau^2$.\n\n$$\n\\overline y = \\frac{\\sum_{i = 1}^k y_iw^*_i}{\\sum_{i = 1}^k w^*_i}\n$$ {#eq-re1}\n\n$$\nw^*_i = \\frac{1}{\\sigma^2_i + \\tau^2}\n$$ {#eq-re2}\n\nThe weights are different compared to the EE model. Extremely precise/imprecise studies will have less impact in the RE model.\n\n## Fitting a RE model\n\nIn R we can use the `metafor::rma()` function using the `method = \"REML\"`.\n\n\n::: {.cell layout-align=\"center\"}\n\n```\n#> \n#> Random-Effects Model (k = 15; tau^2 estimator: REML)\n#> \n#>   logLik  deviance       AIC       BIC      AICc   \n#>  -0.5383    1.0766    5.0766    6.3547    6.1675   \n#> \n#> tau^2 (estimated amount of total heterogeneity): 0.0630 (SE = 0.0239)\n#> tau (square root of estimated tau^2 value):      0.2511\n#> I^2 (total heterogeneity / total variability):   99.68%\n#> H^2 (total variability / sampling variability):  316.39\n#> \n#> Test for Heterogeneity:\n#> Q(df = 14) = 4459.8553, p-val < .0001\n#> \n#> Model Results:\n#> \n#> estimate      se    zval    pval   ci.lb   ci.ub      \n#>   0.3879  0.0649  5.9752  <.0001  0.2607  0.5152  *** \n#> \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n\n## Intepreting the RE model\n\nThe model output is quite similar to the EE model and also the intepretation is similar.\n\nThe only extra section is `tau^2/tau` that is the estimation of the between-study heterogeneity.\n\n## Estimating $\\tau^2$\n\nWe used `method = \"REML\"` but there are actually several estimators for $\\tau^2$. @Viechtbauer2005-zt, @Veroniki2016-zs and @Brannick2019-hv provided a comprehensive overview of different estimators.\n\niframe hete\n\n## Estimating $\\tau^2$\n\nThe **Restricted Maximum Likelihood** (REML) estimator is considered one of the best. We can compare the results using the `all_rma()` custom function that tests all the estimators^[The `filor::compare_rma()` function is similar to the `car::compareCoefs()` function].\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nfitl <- all_rma(fit)\nround(filor::compare_rma(fitlist = fitl), 3)\n#>           DL     HE     HS    HSk     SJ     ML   REML     EB     PM    PMM\n#> b      0.388  0.388  0.388  0.388  0.388  0.388  0.388  0.388  0.388  0.388\n#> se     0.065  0.065  0.063  0.065  0.065  0.063  0.065  0.065  0.065  0.067\n#> zval   5.955  5.975  6.164  5.955  5.976  6.185  5.975  5.975  5.975  5.832\n#> pval   0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000\n#> ci.lb  0.260  0.261  0.265  0.260  0.261  0.265  0.261  0.261  0.261  0.258\n#> ci.ub  0.516  0.515  0.511  0.516  0.515  0.511  0.515  0.515  0.515  0.518\n#> I2    99.686 99.684 99.664 99.686 99.684 99.661 99.684 99.684 99.684 99.699\n#> tau2   0.063  0.063  0.059  0.063  0.063  0.059  0.063  0.063  0.063  0.066\n```\n:::\n\n\n## Intepreting heterogeneity $\\tau^2$\n\nLooking at @eq-re-mod2, $\\tau^2$ is essentially the variance of the random-effect. This means that we can intepret it as the variability (or the standard deviation) of the true effect size distribution.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-26-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Intepreting $\\tau^2$\n\nAs in the previus plot we can assume $n = \\infty$ and generate true effects from @eq-re-mod2. In this way we understand the impact of assuming (or estimating) a certain $\\tau^2$.\n\nFor example, a $\\tau = 0.2$ and a $\\mu_{\\theta} = 0.5$, 50% of the true effects ranged between:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nD <- 0.5\nyis <- D + rnorm(1e5, 0, 0.2)\nquantile(yis, c(0.75, 0.25))\n#>       75%       25% \n#> 0.6363933 0.3663519\n```\n:::\n\n\n## The $Q$ Statistics^[See @Harrer2021-go (Chapter 5) and @Hedges2019-ry for an overview about the Q statistics]\n\nThe Q statistics is used to make inference on the heterogeneity. Can be considered as a weighted sum of squares:\n\n$$\nQ = \\sum^k_{i = 1}w_i(y_i - \\hat \\mu)^2\n$$\n\nWhere $\\hat \\mu$ is EE estimation (regardless if $\\tau^2 \\neq 0$) and $w_i$ are the inverse-variance weights. Note that in the case of $w_1 = w_2 ... = w_i$, Q is just a standard sum of squares (or deviance).\n\n## The $Q$ Statistics\n\n- Given that we are summing up squared distances, they should be approximately $\\chi^2$ with $df = k - 1$. In case of no heterogeneity ($\\tau^2 = 0$) the observed variability is only caused by sampling error and the expectd value of the $\\chi^2$ is just the degrees of freedom ($df = k - 1$).\n- In case of $\\tau^2 \\neq 0$, the expected value is $k - 1 + \\lambda$ where $\\lambda$ is a non-centrality parameter.\n- In other terms, if the expected value of $Q$ exceed the expected value assuming no heterogeneity, we have evidence that $\\tau^2 \\neq 0$.\n\n## The $Q$ Statistics\n\nLet's try a more practical approach. We simulate a lot of meta-analysis with and without heterogeneity and we check the Q statistics.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nget_Q <- function(yi, vi){\n  wi <- 1/vi\n  theta_ee <- weighted.mean(yi, wi)\n  sum(wi*(yi - theta_ee)^2)\n}\n\nk <- 30\nn <- 30\ntau2 <- 0.1\nnsim <- 1e4\n\nQs_tau2_0 <- rep(0, nsim)\nQs_tau2 <- rep(0, nsim)\nres2_tau2_0 <- vector(\"list\", nsim)\nres2_tau2 <- vector(\"list\", nsim)\n\nfor(i in 1:nsim){\n  dat_tau2_0 <- sim_studies(k = 30, es = 0.5, tau2 = 0, n1 = n)\n  dat_tau2 <- sim_studies(k = 30, es = 0.5, tau2 = tau2, n1 = n)\n  \n  theta_ee_tau2_0 <- weighted.mean(dat_tau2_0$yi, 1/dat_tau2_0$vi)\n  theta_ee <- weighted.mean(dat_tau2$yi, 1/dat_tau2$vi)\n  \n  res2_tau2_0[[i]] <- dat_tau2_0$yi - theta_ee_tau2_0\n  res2_tau2[[i]] <- dat_tau2$yi - theta_ee\n  \n  Qs_tau2_0[i] <- get_Q(dat_tau2_0$yi, dat_tau2_0$vi)\n  Qs_tau2[i] <- get_Q(dat_tau2$yi, dat_tau2$vi)\n}\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-29-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## The $Q$ Statistics\n\nLet's try a more practical approach. We simulate a lot of meta-analysis with and without heterogeneity and we check the Q statistics.\n\n. . .\n\n- clearly, in the presence of heterogeneity, the expected value of the Q statistics is higher (due to $\\lambda \\neq 0$) and also residuals are larger (the $\\chi^2$ is just a sum of squared weighted residuals)\n\n. . .\n\n- we can calculate a p-value for deviation from the $\\tau^2 = 0$ case as evidence agaist the absence of heterogeneity\n\n## $I^2$ [@Higgins2002-fh]\n\nWe have two sources of variability in a random-effects meta-analysis, the sampling variability $\\sigma_i^2$ and true heterogeneity $\\tau^2$. We can use the $I^2$ to express the interplay between the two.\n$$\nI^2 = 100\\% \\times \\frac{\\hat{\\tau}^2}{\\hat{\\tau}^2 + \\tilde{v}}\n$${#eq-i2}\n\n$$\n\\tilde{v} = \\frac{(k-1) \\sum w_i}{(\\sum w_i)^2 - \\sum w_i^2},\n$$\n\nWhere $\\tilde{v}$ is the typical sampling variability. $I^2$ is intepreted as the proportion of total variability due to real heterogeneity (i.e., $\\tau^2$)\n\n## $I^2$ [@Higgins2002-fh]^[see [https://www.meta-analysis-workshops.com/download/common-mistakes1.pdf](https://www.meta-analysis-workshops.com/download/common-mistakes1.pdf)]\n\nNote that we can have the same $I^2$ in two completely different meta-analysis. An high $I^2$ does not represent high heterogeneity. Let's assume to have two meta-analysis with $k$ studies and small ($n = 30$) vs large ($n = 500$) sample sizes. \n\nLet's solve @eq-i2 for $\\tau^2$ (using `filor::tau2_from_I2()`) and we found that the same $I^2$ can be obtained with two completely different $\\tau^2$ values:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nn_1 <- 30\nvi_1 <- 1/n_1 + 1/n_1\ntau2_1 <- filor::tau2_from_I2(0.8, vi_1)\ntau2_1\n#> [1] 0.2666667\n\nn_2 <- 500\nvi_2 <- 1/n_2 + 1/n_2\ntau2_2 <- filor::tau2_from_I2(0.8, vi_2)\ntau2_2\n#> [1] 0.016\n```\n:::\n\n\n## $I^2$ [@Higgins2002-fh]\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nn_1 <- 30\nvi_1 <- 1/n_1 + 1/n_1\ntau2_1 <- filor::tau2_from_I2(0.8, vi_1)\ntau2_1\n#> [1] 0.2666667\n\nn_2 <- 500\nvi_2 <- 1/n_2 + 1/n_2\ntau2_2 <- filor::tau2_from_I2(0.8, vi_2)\ntau2_2\n#> [1] 0.016\n```\n:::\n\n\n. . .\n\nIn other terms, the $I^2$ can be considered a good index of heterogeneity only when the total variance ($\\tilde{v} + \\tau^2$) is similar.\n\n## What about $\\tilde{v}$?\n\n$\\tilde{v}$ is considered the \"typical\" within-study variability (see [https://www.metafor-project.org/doku.php/tips:i2_multilevel_multivariate](https://www.metafor-project.org/doku.php/tips:i2_multilevel_multivariate)). There are different estimators but @eq-tildev [@Higgins2002-fh] is the most common.\n\n$$\n\\tilde{v} = \\frac{(k-1) \\sum w_i}{(\\sum w_i)^2 - \\sum w_i^2}\n$$ {#eq-tildev}\n\n## What about $\\tilde{v}$?\n\nIn the hypothetical case where $\\sigma^2_1 = \\dots = \\sigma^2_k$, $\\tilde{v}$ is just $\\sigma^2$. This fact is commonly used to calculate the statistical power analytically [@Borenstein2009-mo, Chapter 29].\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nvtilde <- function(wi){\n  k <- length(wi)\n  (k - 1) * sum(wi) / (sum(wi)^2 - sum(wi^2))\n}\n\nk <- 20\n\n# same vi\nvi <- rep((1/30 + 1/30), k)\nhead(vi)\n#> [1] 0.06666667 0.06666667 0.06666667 0.06666667 0.06666667 0.06666667\nvtilde(1/vi)\n#> [1] 0.06666667\n\n# heterogeneous vi\nn <- 10 + rpois(k, 30 - 10)\nvi <- sim_vi(k = k, n1 = n)\nvtilde(1/vi)\n#> [1] 0.06266246\n```\n:::\n\n\n## What about $\\tilde{v}$?\n\nUsing simulations we can see that $\\tilde{v}$ with heterogenenous variances (i.e., sample sizes in this case) can be approximated by the central tendency of the sample size distribution. Note that we are fixing $\\sigma^2 = 1$ thus we are not including uncertainty.\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-34-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## $H^2$\n\nThe $H^2$ is an alternative index of heterogeneity. Is calculated as:\n\n$$\nH^2 = \\frac{Q}{k - 1}\n$$\n\nWe defined $Q$ as the weighted sum of squares representing the total variability. $k - 1$ is the expected value of the $\\chi^2$ statistics (i.e., sum of squares) when $\\tau^2 = 0$ (or $\\lambda = 0$). \n\nThus $H^2$ is the ratio between total heterogeneity and sampling variability. Higher $H^2$ is associated with higher heterogeneity **relative** to the sampling variability. $H^2$ is not a measure of absolute heterogeneity.\n\n## $H^2$\n\nWhen we are fitting a RE model, the $I^2$ and $H^2$ equations are slightly different [@Higgins2002-fh]^[see also the `metafor` source code https://github.com/cran/metafor/blob/994d26a65455fac90760ad6a004ec1eaca5856b1/R/rma.uni.r#L2459C30-L2459C30].\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 100\nmu <- 0.5\ntau2 <- 0.1\nn <- 30\n\ndat <- sim_studies(k = k, es = mu, tau2 = tau2, n1 = n)\nfit_re <- rma(yi, vi, data = dat, method = \"REML\")\nfit_ee <- rma(yi, vi, data = dat, method = \"EE\")\n\n# H2 with EE model\n\ntheta_ee <- fit_ee$b[[1]] # weighted.mean(dat$yi, 1/dat$vi)\nwi <- 1/dat$vi\nQ <- with(dat, sum((1/vi)*(yi - theta_ee)^2))\nc(Q, fit_ee$QE) # same\n#> [1] 224.5983 224.5983\n\nc(H2 = fit_ee$QE / (fit_ee$k - fit_ee$p), H2_model = fit_ee$H2) # same\n#>       H2 H2_model \n#> 2.268669 2.268669\n\n# H2 with RE model\n\nvt <- vtilde(1/dat$vi)\nc(H2 = fit_re$tau2 / vt + 1, H2_model = fit_re$H2) # same\n#>       H2 H2_model \n#> 2.261768 2.261768\n```\n:::\n\n\n## Confidence Intervals\n\nWhat is reported in the model summary as `ci.lb` and `ci.ub` refers to the 95% confidence interval representing the uncertainty in estimating the effect (or a meta-regression parameter).\n\nWithout looking at the equations, let's try to implement this idea using simulations.\n\n- choose $k$, $\\tau^2$ and $n$\n- simulate data (several times) accordingly and fit the RE model\n- extract the estimated effect size\n- compare the simulated sampling distribution with the analytical result\n\n## Confidence Intervals\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 30\nn <- 30\ntau2 <- 0.05\nmu <- 0.5\nnsim <- 5e3\n\n# true parameters (see Borenstein, 2009; Chapter 29)\nvt <- 1/n + 1/n\nvs <- (vt + tau2)/ k\nse <- sqrt(vs)\n\nmui <- rep(NA, nsim)\n\nfor(i in 1:nsim){\n  dat <- sim_studies(k = k, es = mu, tau2 = tau2, n1 = n)\n  fit <- rma(yi, vi, data = dat)\n  mui[i] <- coef(fit)[1]\n}\n\n# standard error\nc(simulated = sd(mui), analytical = fit$se)\n#>  simulated analytical \n#> 0.06363308 0.06417368\n\n# confidence interval\nrbind(\n  \"simulated\"  = quantile(mui, c(0.05, 0.975)),\n  \"analytical\" = c(\"2.5%\" = fit$ci.lb, \"97.5%\" = fit$ci.ub)\n)\n#>                   5%     97.5%\n#> simulated  0.3938230 0.6236432\n#> analytical 0.4245134 0.6760696\n```\n:::\n\n\n## Confidence Intervals\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-37-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Confidence Intervals\n\nNow the equation for the 95% confidence interval should be more clear. The standard error is a function of the within study sampling variances (depending mainly on $n$), $\\tau^2$ and $k$. As we increase $k$ the standard error tends towards zero. \n\n$$\nCI = \\hat \\mu_{\\theta} \\pm z SE_{\\mu_{\\theta}}\n$$\n\n$$\nSE_{\\mu_{\\theta}} = \\sqrt{\\frac{1}{\\sum^{k}_{i = 1}w^{\\star}_i}}\n$$\n\n$$\nw^{\\star}_i = \\frac{1}{\\sigma^2_i + \\tau^2}\n$$\n\n## Confidence Intervals\n\nWe can also see it analytically, there is a huge impact of $k$.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](meta-analysis-models_files/figure-revealjs/unnamed-chunk-38-1.svg){fig-align='center' width=960}\n:::\n:::\n\n\n## Prediction intervals (PI)\n\nWe could say that the CI is not completely taking into account the between-study heterogeneity ($\\tau^2$). After a meta-analysis we would like to know how confident we are in the parameters estimation BUT also **what would be the expected effect running a new experiment tomorrow?**.\n\nThe **prediction interval** [@IntHout2016-sz; @Riley2011-hp] is exactly the range of effects that I expect in predicting a new study.\n\n## PI for a sample mean\n\nTo understand the concept, let's assume to have a sample $X$ of size $n$ and we estimate the mean $\\overline X$. The PI is calculated as^[Notice that the equation, in particular the usage of $t$ vs $z$ depends on assuming $s_x$ to be known or estimated. See [https://online.stat.psu.edu/stat501/lesson/3/3.3](https://online.stat.psu.edu/stat501/lesson/3/3.3), [https://en.wikipedia.org/wiki/Prediction_interval](https://en.wikipedia.org/wiki/Prediction_interval) and [https://www.bryanshalloway.com/2021/03/18/intuition-on-uncertainty-of-predictions-introduction-to-prediction-intervals/](https://www.bryanshalloway.com/2021/03/18/intuition-on-uncertainty-of-predictions-introduction-to-prediction-intervals/)]:\n\n$$\nPI = \\overline X \\pm t_{\\alpha/2} s_x \\sqrt{1 + \\frac{1}{n}}\n$$\n\nWhere $s$ is the sample standard deviation. Basically we are combining the uncertainty in estimating $\\overline X$ (i.e, $\\frac{s_x}{n}$) with the standard deviation of the data $s_x$. Compare it with the confidence interval containing only $\\frac{s_x}{n}$.\n\n## PI in meta-analysis\n\nFor meta-analysis the equation^[When a $t$ distribution is assumed, the quantiles are calculated using $k - 2$ degrees of freedom] is conceptually similar but with different quantities.\n\n$$\nPI = \\hat \\mu_{\\theta} \\pm z \\sqrt{\\tau^2 + SE_{\\mu_{\\theta}}}\n$$\n\nBasically we are combining all the sources of uncertainty. As long as $\\tau^2 \\neq 0$ the PI is greater than the CI (in the EE model they are the same). Thus even with very precise $\\mu_{\\theta}$ estimation, large $\\tau^2$ leads to uncertain predictions.\n\n## PI in meta-analysis\n\nIn R the PI can be calculated using `predict()`. By default the model assume a standard normal distribution thus using $z$ scores. To use the @Riley2011-hp approach ($t$ distribution) the model need to be fitted using `test = \"t\"`.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nk <- 100\ndat <- sim_studies(k = k, es = 0.5, tau2 = 0.1, n1 = 30)\nfit_z <- rma(yi, vi, data = dat, test = \"z\") # test = \"z\" is the default\npredict(fit_z) # notice pi.ub/pi.lb vs ci.ub/ci.lb\n#> \n#>    pred     se  ci.lb  ci.ub   pi.lb  pi.ub \n#>  0.4766 0.0410 0.3963 0.5570 -0.1581 1.1114\n# manually\nfit_z$b[[1]] + qnorm(c(0.025, 0.975)) * sqrt(fit_z$se^2 + fit_z$tau2)\n#> [1] -0.1581267  1.1113777\n\nfit_t <- rma(yi, vi, data = dat, test = \"t\")\npredict(fit_t) # notice pi.ub/pi.lb vs ci.ub/ci.lb\n#> \n#>    pred     se  ci.lb  ci.ub   pi.lb  pi.ub \n#>  0.4766 0.0410 0.3953 0.5580 -0.1660 1.1192\n# manually\nfit_z$b[[1]] + qt(c(0.025, 0.975), k - 2) * sqrt(fit_t$se^2 + fit_t$tau2)\n#> [1] -0.1660623  1.1193133\n```\n:::\n\n\n## References <button class=\"btn\"><i class=\"fa fa-download\"></i><a href=\"data:text/x-bibtex;base64,QEFSVElDTEV7VmllY2h0YmF1ZXIyMDA1LXp0LA0KICB0aXRsZSA9IHtCaWFzIGFuZCBlZmZpY2llbmN5IG9mIG1ldGEtYW5hbHl0aWMgdmFyaWFuY2UgZXN0aW1hdG9ycyBpbiB0aGUNCiAgcmFuZG9tLWVmZmVjdHMgbW9kZWx9LA0KICBhdXRob3IgPSB7VmllY2h0YmF1ZXIsIFdvbGZnYW5nfSwNCiAgam91cm5hbHRpdGxlID0ge0pvdXJuYWwgb2YgZWR1Y2F0aW9uYWwgYW5kIGJlaGF2aW9yYWwgc3RhdGlzdGljczogYSBxdWFydGVybHkNCiAgcHVibGljYXRpb24gc3BvbnNvcmVkIGJ5IHRoZSBBbWVyaWNhbiBFZHVjYXRpb25hbCBSZXNlYXJjaCBBc3NvY2lhdGlvbiBhbmQgdGhlDQogIEFtZXJpY2FuIFN0YXRpc3RpY2FsIEFzc29jaWF0aW9ufSwNCiAgcHVibGlzaGVyID0ge0FtZXJpY2FuIEVkdWNhdGlvbmFsIFJlc2VhcmNoIEFzc29jaWF0aW9uIChBRVJBKX0sDQogIHZvbHVtZSA9IHszMH0sDQogIGlzc3VlID0gezN9LA0KICBwYWdlcyA9IHsyNjEtMjkzfSwNCiAgZGF0ZSA9IHsyMDA1LTA5fSwNCiAgZG9pID0gezEwLjMxMDIvMTA3Njk5ODYwMzAwMDMyNjF9LA0KICBpc3NuID0gezEwNzYtOTk4NiwxOTM1LTEwNTR9LA0KICBhYnN0cmFjdCA9IHtUaGUgbWV0YS1hbmFseXRpYyByYW5kb20gZWZmZWN0cyBtb2RlbCBhc3N1bWVzIHRoYXQgdGhlDQogIHZhcmlhYmlsaXR5IGluIGVmZmVjdCBzaXplIGVzdGltYXRlcyBkcmF3biBmcm9tIGEgc2V0IG9mIHN0dWRpZXMgY2FuIGJlDQogIGRlY29tcG9zZWQgaW50byB0d28gcGFydHM6IGhldGVyb2dlbmVpdHkgZHVlIHRvIHJhbmRvbSBwb3B1bGF0aW9uIGVmZmVjdHMgYW5kDQogIHNhbXBsaW5nIHZhcmlhbmNlLiBJbiB0aGlzIGNvbnRleHQsIHRoZSB1c3VhbCBnb2FsIGlzIHRvIGVzdGltYXRlIHRoZSBjZW50cmFsDQogIHRlbmRlbmN5IGFuZCB0aGUgYW1vdW50IG9mIGhldGVyb2dlbmVpdHkgaW4gdGhlIHBvcHVsYXRpb24gZWZmZWN0IHNpemVzLiBUaGUNCiAgYW1vdW50IG9mIGhldGVyb2dlbmVpdHkgaW4gYSBzZXQgb2YgZWZmZWN0IHNpemVzIGhhcyBpbXBsaWNhdGlvbnMgcmVnYXJkaW5nDQogIHRoZSBpbnRlcnByZXRhdGlvbiBvZiB0aGUgbWV0YS1hbmFseXRpYyBmaW5kaW5ncyBhbmQgb2Z0ZW4gc2VydmVzIGFzIGFuDQogIGluZGljYXRvciBmb3IgdGhlIHByZXNlbmNlIG9mIHBvdGVudGlhbCBtb2RlcmF0b3IgdmFyaWFibGVzLiBGaXZlIHBvcHVsYXRpb24NCiAgaGV0ZXJvZ2VuZWl0eSBlc3RpbWF0b3JzIHdlcmUgY29tcGFyZWQgaW4gdGhpcyBhcnRpY2xlIGFuYWx5dGljYWxseSBhbmQgdmlhDQogIE1vbnRlIENhcmxvIHNpbXVsYXRpb25zIHdpdGggcmVzcGVjdCB0byB0aGVpciBiaWFzIGFuZCBlZmZpY2llbmN5Ln0sDQogIHVybCA9IHtodHRwczovL3NjaG9sYXIuZ29vZ2xlLmNvbS9jaXRhdGlvbnM/dmlld19vcD12aWV3X2NpdGF0aW9uJmhsPWVuJnVzZXI9Sjg5UlhKa0FBQUFKJmNpdGF0aW9uX2Zvcl92aWV3PUo4OVJYSmtBQUFBSjpxak1ha0ZIRHk3c0N9LA0KICBsYW5ndWFnZSA9IHtlbn0NCn0NCg0KQEFSVElDTEV7VmVyb25pa2kyMDE2LXpzLA0KICB0aXRsZSA9IHtNZXRob2RzIHRvIGVzdGltYXRlIHRoZSBiZXR3ZWVuLXN0dWR5IHZhcmlhbmNlIGFuZCBpdHMgdW5jZXJ0YWludHkgaW4NCiAgbWV0YS1hbmFseXNpc30sDQogIGF1dGhvciA9IHtWZXJvbmlraSwgQXJldGkgQW5nZWxpa2kgYW5kIEphY2tzb24sIERhbiBhbmQgVmllY2h0YmF1ZXIsIFdvbGZnYW5nDQogIGFuZCBCZW5kZXIsIFJhbGYgYW5kIEJvd2RlbiwgSmFjayBhbmQgS25hcHAsIEd1aWRvIGFuZCBLdXNzLCBPbGl2ZXIgYW5kDQogIEhpZ2dpbnMsIEp1bGlhbiBQIFQgYW5kIExhbmdhbiwgRGVhbiBhbmQgU2FsYW50aSwgR2VvcmdpYX0sDQogIGpvdXJuYWx0aXRsZSA9IHtSZXNlYXJjaCBzeW50aGVzaXMgbWV0aG9kc30sDQogIHB1Ymxpc2hlciA9IHtXaWxleX0sDQogIHZvbHVtZSA9IHs3fSwNCiAgaXNzdWUgPSB7MX0sDQogIHBhZ2VzID0gezU1LTc5fSwNCiAgZGF0ZSA9IHsyMDE2LTAzfSwNCiAgZG9pID0gezEwLjEwMDIvanJzbS4xMTY0fSwNCiAgcG1jID0ge1BNQzQ5NTAwMzB9LA0KICBwbWlkID0gezI2MzMyMTQ0fSwNCiAgaXNzbiA9IHsxNzU5LTI4NzksMTc1OS0yODg3fSwNCiAgYWJzdHJhY3QgPSB7TWV0YS1hbmFseXNlcyBhcmUgdHlwaWNhbGx5IHVzZWQgdG8gZXN0aW1hdGUgdGhlIG92ZXJhbGwvbWVhbiBvZg0KICBhbiBvdXRjb21lIG9mIGludGVyZXN0LiBIb3dldmVyLCBpbmZlcmVuY2UgYWJvdXQgYmV0d2Vlbi1zdHVkeSB2YXJpYWJpbGl0eSwNCiAgd2hpY2ggaXMgdHlwaWNhbGx5IG1vZGVsbGVkIHVzaW5nIGEgYmV0d2Vlbi1zdHVkeSB2YXJpYW5jZSBwYXJhbWV0ZXIsIGlzDQogIHVzdWFsbHkgYW4gYWRkaXRpb25hbCBhaW0uIFRoZSBEZXJTaW1vbmlhbiBhbmQgTGFpcmQgbWV0aG9kLCBjdXJyZW50bHkgd2lkZWx5DQogIHVzZWQgYnkgZGVmYXVsdCB0byBlc3RpbWF0ZSB0aGUgYmV0d2Vlbi1zdHVkeSB2YXJpYW5jZSwgaGFzIGJlZW4gbG9uZw0KICBjaGFsbGVuZ2VkLiBPdXIgYWltIGlzIHRvIGlkZW50aWZ5IGtub3duIG1ldGhvZHMgZm9yIGVzdGltYXRpb24gb2YgdGhlDQogIGJldHdlZW4tc3R1ZHkgdmFyaWFuY2UgYW5kIGl0cyBjb3JyZXNwb25kaW5nIHVuY2VydGFpbnR5LCBhbmQgdG8gc3VtbWFyaXNlIHRoZQ0KICBzaW11bGF0aW9uIGFuZCBlbXBpcmljYWwgZXZpZGVuY2UgdGhhdCBjb21wYXJlcyB0aGVtLiBXZSBpZGVudGlmaWVkIDE2DQogIGVzdGltYXRvcnMgZm9yIHRoZSBiZXR3ZWVuLXN0dWR5IHZhcmlhbmNlLCBzZXZlbiBtZXRob2RzIHRvIGNhbGN1bGF0ZQ0KICBjb25maWRlbmNlIGludGVydmFscywgYW5kIHNldmVyYWwgY29tcGFyYXRpdmUgc3R1ZGllcy4gU2ltdWxhdGlvbiBzdHVkaWVzDQogIHN1Z2dlc3QgdGhhdCBmb3IgYm90aCBkaWNob3RvbW91cyBhbmQgY29udGludW91cyBkYXRhIHRoZSBlc3RpbWF0b3IgcHJvcG9zZWQNCiAgYnkgUGF1bGUgYW5kIE1hbmRlbCBhbmQgZm9yIGNvbnRpbnVvdXMgZGF0YSB0aGUgcmVzdHJpY3RlZCBtYXhpbXVtIGxpa2VsaWhvb2QNCiAgZXN0aW1hdG9yIGFyZSBiZXR0ZXIgYWx0ZXJuYXRpdmVzIHRvIGVzdGltYXRlIHRoZSBiZXR3ZWVuLXN0dWR5IHZhcmlhbmNlLg0KICBCYXNlZCBvbiB0aGUgc2NlbmFyaW9zIGFuZCByZXN1bHRzIHByZXNlbnRlZCBpbiB0aGUgcHVibGlzaGVkIHN0dWRpZXMsIHdlDQogIHJlY29tbWVuZCB0aGUgUS1wcm9maWxlIG1ldGhvZCBhbmQgdGhlIGFsdGVybmF0aXZlIGFwcHJvYWNoIGJhc2VkIG9uIGENCiAgJ2dlbmVyYWxpc2VkIENvY2hyYW4gYmV0d2Vlbi1zdHVkeSB2YXJpYW5jZSBzdGF0aXN0aWMnIHRvIGNvbXB1dGUNCiAgY29ycmVzcG9uZGluZyBjb25maWRlbmNlIGludGVydmFscyBhcm91bmQgdGhlIHJlc3VsdGluZyBlc3RpbWF0ZXMuIE91cg0KICByZWNvbW1lbmRhdGlvbnMgYXJlIGJhc2VkIG9uIGEgcXVhbGl0YXRpdmUgZXZhbHVhdGlvbiBvZiB0aGUgZXhpc3RpbmcNCiAgbGl0ZXJhdHVyZSBhbmQgZXhwZXJ0IGNvbnNlbnN1cy4gRXZpZGVuY2UtYmFzZWQgcmVjb21tZW5kYXRpb25zIHJlcXVpcmUgYW4NCiAgZXh0ZW5zaXZlIHNpbXVsYXRpb24gc3R1ZHkgd2hlcmUgYWxsIG1ldGhvZHMgd291bGQgYmUgY29tcGFyZWQgdW5kZXIgdGhlIHNhbWUNCiAgc2NlbmFyaW9zLn0sDQogIHVybCA9IHtodHRwczovL3NjaG9sYXIuZ29vZ2xlLmNvbS9jaXRhdGlvbnM/dmlld19vcD12aWV3X2NpdGF0aW9uJmhsPWVuJnVzZXI9Sjg5UlhKa0FBQUFKJmNpdGF0aW9uX2Zvcl92aWV3PUo4OVJYSmtBQUFBSjpYYy1tS09qcGRyd0N9LA0KICBrZXl3b3JkcyA9IHtiaWFzOyBjb25maWRlbmNlIGludGVydmFsOyBjb3ZlcmFnZSBwcm9iYWJpbGl0eTsgaGV0ZXJvZ2VuZWl0eTsNCiAgbWVhbiBzcXVhcmVkIGVycm9yfSwNCiAgbGFuZ3VhZ2UgPSB7ZW59DQp9DQoNCkBCT09Le0hhcnJlcjIwMjEtZ28sDQogIHRpdGxlID0ge0RvaW5nIG1ldGEtYW5hbHlzaXMgd2l0aCBSOiBBIGhhbmRzLW9uIGd1aWRlfSwNCiAgYXV0aG9yID0ge0hhcnJlciwgTWF0aGlhcyBhbmQgQ3VpanBlcnMsIFBpbSBhbmQgRnVydWthd2EsIFRvc2hpIGFuZCBFYmVydCwNCiAgRGF2aWR9LA0KICBwdWJsaXNoZXIgPSB7Q1JDIFByZXNzfSwNCiAgbG9jYXRpb24gPSB7TG9uZG9uLCBFbmdsYW5kfSwNCiAgZWRpdGlvbiA9IHsxc3R9LA0KICBkYXRlID0gezIwMjEtMDktMTN9LA0KICBwYWdldG90YWwgPSB7NDc0fSwNCiAgaXNibiA9IHs5NzgwMzY3NjEwMDc0fSwNCiAgbGFuZ3VhZ2UgPSB7ZW59DQp9DQoNCkBBUlRJQ0xFe0JyYW5uaWNrMjAxOS1odiwNCiAgdGl0bGUgPSB7QmlhcyBhbmQgcHJlY2lzaW9uIG9mIGFsdGVybmF0ZSBlc3RpbWF0b3JzIGluIG1ldGEtYW5hbHlzaXM6IEJlbmVmaXRzDQogIG9mIGJsZW5kaW5nIFNjaG1pZHQtSHVudGVyIGFuZCBIZWRnZXMgYXBwcm9hY2hlc30sDQogIGF1dGhvciA9IHtCcmFubmljaywgTWljaGFlbCBUIGFuZCBQb3R0ZXIsIFNlYW4gTSBhbmQgQmVuaXRleiwgQnJ5YW4gYW5kDQogIE1vcnJpcywgU2NvdHQgQn0sDQogIGpvdXJuYWx0aXRsZSA9IHtPcmdhbml6YXRpb25hbCByZXNlYXJjaCBtZXRob2RzfSwNCiAgcHVibGlzaGVyID0ge1NBR0UgUHVibGljYXRpb25zfSwNCiAgdm9sdW1lID0gezIyfSwNCiAgaXNzdWUgPSB7Mn0sDQogIHBhZ2VzID0gezQ5MC01MTR9LA0KICBkYXRlID0gezIwMTktMDR9LA0KICBkb2kgPSB7MTAuMTE3Ny8xMDk0NDI4MTE3NzQxOTY2fSwNCiAgaXNzbiA9IHsxMDk0LTQyODEsMTU1Mi03NDI1fSwNCiAgYWJzdHJhY3QgPSB7V2UgZGVzY3JpYmUgYSBuZXcgZXN0aW1hdG9yIChsYWJlbGVkIE1vcnJpcykgZm9yIG1ldGEtYW5hbHlzaXMuDQogIFRoZSBNb3JyaXMgZXN0aW1hdG9yIGNvbWJpbmVzIGVsZW1lbnRzIG9mIGJvdGggdGhlIFNjaG1pZHQtSHVudGVyIGFuZCBIZWRnZXMNCiAgZXN0aW1hdG9ycy4gVGhlIG5ldyBlc3RpbWF0b3IgaXMgY29tcGFyZWQgdG8gKGEpIHRoZSBTY2htaWR0LUh1bnRlciBlc3RpbWF0b3IsDQogIChiKSB0aGUgU2NobWlkdC1IdW50ZXIgZXN0aW1hdG9yIHdpdGggdmFyaWFuY2UgY29ycmVjdGlvbiBmb3IgdGhlIG51bWJlciBvZg0KICBzdHVkaWVzICjigJwgayBjb3JyZWN0aW9u4oCdKSwgKGMpIHRoZSBIZWRnZXMgcmFuZG9tLWVmZmVjdHMgZXN0aW1hdG9yLCBhbmQgKGQpDQogIHRoZSBCb25ldHQgdW5pdCB3ZWlnaHRzIGVzdGltYXRvciBpbiBhIE1vbnRlIENhcmxvIHNpbXVsYXRpb24uIFRoZSBzaW11bGF0aW9uDQogIHdhcyBkZXNpZ25lZCB0byByZXByZXNlbnQgcmVhbGlzdGljIGNvbmRpdGlvbnMgZmFjZWQgYnkgcmVzZWFyY2hlcnMsIGluY2x1ZGluZw0KICBwb3B1bGF0aW9uIHJhbmRvbS1lZmZlY3RzIGRpc3RyaWJ1dGlvbnMsIG51bWJlcnMgb2Ygc3R1ZGllcywgYW5kIHNrZXdlZCBzYW1wbGUNCiAgc2l6ZSBkaXN0cmlidXRpb25zLiBUaGUgc2ltdWxhdGlvbiB3YXMgdXNlZCB0byBldmFsdWF0ZSB0aGUgZXN0aW1hdG9ycyB3aXRoDQogIHJlc3BlY3QgdG8gYmlhcywgY292ZXJhZ2Ugb2YgdGhlIDk1XCUgY29uZmlkZW5jZSBpbnRlcnZhbCBvZiB0aGUgbWVhbiwgYW5kDQogIHJvb3QgbWVhbiBzcXVhcmUgZXJyb3Igb2YgZXN0aW1hdGVzIG9mIHRoZSBwb3B1bGF0aW9uIG1lYW4uIFdlIGFsc28gZXZhbHVhdGVkDQogIHRoZSBxdWFsaXR5IG9mIGNyZWRpYmlsaXR5IGludGVydmFscy4gT3ZlcmFsbCwgdGhlIG5ldyBlc3RpbWF0b3IgcHJvdmlkZXMNCiAgYmV0dGVyIGNvdmVyYWdlIGFuZCBzbGlnaHRseSBiZXR0ZXIgY3JlZGliaWxpdHkgdmFsdWVzIHRoYW4gb3RoZXIgY29tbW9ubHkNCiAgdXNlZCBtZXRob2RzLiBUaHVzIGl0IGhhcyBhZHZhbnRhZ2VzIG9mIGJvdGggY29tbW9ubHkgdXNlZCBhcHByb2FjaGVzIHdpdGhvdXQNCiAgdGhlIGFwcGFyZW50IGRpc2FkdmFudGFnZXMuIFRoZSBuZXcgZXN0aW1hdG9yIGNhbiBiZSBpbXBsZW1lbnRlZCBlYXNpbHkgd2l0aA0KICBleGlzdGluZyBzb2Z0d2FyZTsgc29mdHdhcmUgdXNlZCBpbiB0aGUgc3R1ZHkgaXMgYXZhaWxhYmxlIG9ubGluZSwgYW5kIGFuDQogIGV4YW1wbGUgaXMgaW5jbHVkZWQgaW4gdGhlIGFwcGVuZGl4IGluIHRoZSBTdXBwbGVtZW50YWwgTWF0ZXJpYWwgYXZhaWxhYmxlDQogIG9ubGluZS59LA0KICB1cmwgPSB7aHR0cHM6Ly9qb3VybmFscy5zYWdlcHViLmNvbS9kb2kvYWJzLzEwLjExNzcvMTA5NDQyODExNzc0MTk2Nn0sDQogIGxhbmd1YWdlID0ge2VufQ0KfQ0KDQpATUlTQ3tCb3JlbnN0ZWluMjAwOS1tbywNCiAgdGl0bGUgPSB7SW50cm9kdWN0aW9uIHRvIHtNZXRhLUFuYWx5c2lzfX0sDQogIGF1dGhvciA9IHtCb3JlbnN0ZWluLCBNaWNoYWVsIGFuZCBIZWRnZXMsIExhcnJ5IFYgYW5kIEhpZ2dpbnMsIEp1bGlhbiBQIFQgYW5kDQogIFJvdGhzdGVpbiwgSGFubmFoIFJ9LA0KICBkYXRlID0gezIwMDl9LA0KICBkb2kgPSB7MTAuMTAwMi85NzgwNDcwNzQzMzg2fSwNCiAgdXJsID0ge2h0dHA6Ly9keC5kb2kub3JnLzEwLjEwMDIvOTc4MDQ3MDc0MzM4Nn0sDQogIGtleXdvcmRzID0ge01BIFVuY29uc2Npb3VzIFdNfQ0KfQ0KDQpAQVJUSUNMRXtSaWxleTIwMTEtaHAsDQogIHRpdGxlID0ge0ludGVycHJldGF0aW9uIG9mIHJhbmRvbSBlZmZlY3RzIG1ldGEtYW5hbHlzZXN9LA0KICBhdXRob3IgPSB7UmlsZXksIFJpY2hhcmQgRCBhbmQgSGlnZ2lucywgSnVsaWFuIFAgVCBhbmQgRGVla3MsIEpvbmF0aGFuIEp9LA0KICBqb3VybmFsdGl0bGUgPSB7Qk1KfSwNCiAgdm9sdW1lID0gezM0Mn0sDQogIHBhZ2VzID0ge2Q1NDl9LA0KICBkYXRlID0gezIwMTEtMDItMTB9LA0KICBkb2kgPSB7MTAuMTEzNi9ibWouZDU0OX0sDQogIHBtaWQgPSB7MjEzMTA3OTR9LA0KICBpc3NuID0gezA5NTktODEzOCwxNzU2LTE4MzN9LA0KICB1cmwgPSB7aHR0cDovL2R4LmRvaS5vcmcvMTAuMTEzNi9ibWouZDU0OX0sDQogIGtleXdvcmRzID0ge01BIFVuY29uc2Npb3VzIFdNfSwNCiAgbGFuZ3VhZ2UgPSB7ZW59DQp9DQoNCkBBUlRJQ0xFe0ludEhvdXQyMDE2LXN6LA0KICB0aXRsZSA9IHtQbGVhIGZvciByb3V0aW5lbHkgcHJlc2VudGluZyBwcmVkaWN0aW9uIGludGVydmFscyBpbiBtZXRhLWFuYWx5c2lzfSwNCiAgYXV0aG9yID0ge0ludEhvdXQsIEpvYW5uYSBhbmQgSW9hbm5pZGlzLCBKb2huIFAgQSBhbmQgUm92ZXJzLCBNYXJvZXNrYSBNIGFuZA0KICBHb2VtYW4sIEplbGxlIEp9LA0KICBqb3VybmFsdGl0bGUgPSB7Qk1KIG9wZW59LA0KICB2b2x1bWUgPSB7Nn0sDQogIGlzc3VlID0gezd9LA0KICBwYWdlcyA9IHtlMDEwMjQ3fSwNCiAgZGF0ZSA9IHsyMDE2LTA3LTEyfSwNCiAgZG9pID0gezEwLjExMzYvYm1qb3Blbi0yMDE1LTAxMDI0N30sDQogIHBtYyA9IHtQTUM0OTQ3NzUxfSwNCiAgcG1pZCA9IHsyNzQwNjYzN30sDQogIGlzc24gPSB7MjA0NC02MDU1fSwNCiAgYWJzdHJhY3QgPSB7T0JKRUNUSVZFUzogRXZhbHVhdGluZyB0aGUgdmFyaWF0aW9uIGluIHRoZSBzdHJlbmd0aCBvZiB0aGUgZWZmZWN0DQogIGFjcm9zcyBzdHVkaWVzIGlzIGEga2V5IGZlYXR1cmUgb2YgbWV0YS1hbmFseXNlcy4gVGhpcyB2YXJpYWJpbGl0eSBpcw0KICByZWZsZWN0ZWQgYnkgbWVhc3VyZXMgbGlrZSDPhCgyKSBvciBJKDIpLCBidXQgdGhlaXIgY2xpbmljYWwgaW50ZXJwcmV0YXRpb24gaXMNCiAgbm90IHN0cmFpZ2h0Zm9yd2FyZC4gQSBwcmVkaWN0aW9uIGludGVydmFsIGlzIGxlc3MgY29tcGxpY2F0ZWQ6IGl0IHByZXNlbnRzDQogIHRoZSBleHBlY3RlZCByYW5nZSBvZiB0cnVlIGVmZmVjdHMgaW4gc2ltaWxhciBzdHVkaWVzLiBXZSBhaW1lZCB0byBzaG93IHRoZQ0KICBhZHZhbnRhZ2VzIG9mIGhhdmluZyB0aGUgcHJlZGljdGlvbiBpbnRlcnZhbCByb3V0aW5lbHkgcmVwb3J0ZWQgaW4NCiAgbWV0YS1hbmFseXNlcy4gREVTSUdOOiBXZSBzaG93IGhvdyB0aGUgcHJlZGljdGlvbiBpbnRlcnZhbCBjYW4gaGVscCB1bmRlcnN0YW5kDQogIHRoZSB1bmNlcnRhaW50eSBhYm91dCB3aGV0aGVyIGFuIGludGVydmVudGlvbiB3b3JrcyBvciBub3QuIFRvIGV2YWx1YXRlIHRoZQ0KICBpbXBsaWNhdGlvbnMgb2YgdXNpbmcgdGhpcyBpbnRlcnZhbCB0byBpbnRlcnByZXQgdGhlIHJlc3VsdHMsIHdlIHNlbGVjdGVkIHRoZQ0KICBmaXJzdCBtZXRhLWFuYWx5c2lzIHBlciBpbnRlcnZlbnRpb24gcmV2aWV3IG9mIHRoZSBDb2NocmFuZSBEYXRhYmFzZSBvZg0KICBTeXN0ZW1hdGljIFJldmlld3MgSXNzdWVzIDIwMDktMjAxMyB3aXRoIGEgZGljaG90b21vdXMgKG49MjAwOSkgb3IgY29udGludW91cw0KICAobj0xMjU0KSBvdXRjb21lLCBhbmQgZ2VuZXJhdGVkIDk1XCUgcHJlZGljdGlvbiBpbnRlcnZhbHMgZm9yIHRoZW0uIFJFU1VMVFM6DQogIEluIDcyLjRcJSBvZiA0Nzkgc3RhdGlzdGljYWxseSBzaWduaWZpY2FudCAocmFuZG9tLWVmZmVjdHMgcDApLCB0aGUgOTVcJQ0KICBwcmVkaWN0aW9uIGludGVydmFsIHN1Z2dlc3RlZCB0aGF0IHRoZSBpbnRlcnZlbnRpb24gZWZmZWN0IGNvdWxkIGJlIG51bGwgb3INCiAgZXZlbiBiZSBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLiBJbiAyMC4zXCUgb2YgdGhvc2UgNDc5IG1ldGEtYW5hbHlzZXMsIHRoZQ0KICBwcmVkaWN0aW9uIGludGVydmFsIHNob3dlZCB0aGF0IHRoZSBlZmZlY3QgY291bGQgYmUgY29tcGxldGVseSBvcHBvc2l0ZSB0byB0aGUNCiAgcG9pbnQgZXN0aW1hdGUgb2YgdGhlIG1ldGEtYW5hbHlzaXMuIFdlIGRlbW9uc3RyYXRlIGFsc28gaG93IHRoZSBwcmVkaWN0aW9uDQogIGludGVydmFsIGNhbiBiZSB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgcHJvYmFiaWxpdHkgdGhhdCBhIG5ldyB0cmlhbCB3aWxsIHNob3cgYQ0KICBuZWdhdGl2ZSBlZmZlY3QgYW5kIHRvIGltcHJvdmUgdGhlIGNhbGN1bGF0aW9ucyBvZiB0aGUgcG93ZXIgb2YgYSBuZXcgdHJpYWwuDQogIENPTkNMVVNJT05TOiBUaGUgcHJlZGljdGlvbiBpbnRlcnZhbCByZWZsZWN0cyB0aGUgdmFyaWF0aW9uIGluIHRyZWF0bWVudA0KICBlZmZlY3RzIG92ZXIgZGlmZmVyZW50IHNldHRpbmdzLCBpbmNsdWRpbmcgd2hhdCBlZmZlY3QgaXMgdG8gYmUgZXhwZWN0ZWQgaW4NCiAgZnV0dXJlIHBhdGllbnRzLCBzdWNoIGFzIHRoZSBwYXRpZW50cyB0aGF0IGEgY2xpbmljaWFuIGlzIGludGVyZXN0ZWQgdG8gdHJlYXQuDQogIFByZWRpY3Rpb24gaW50ZXJ2YWxzIHNob3VsZCBiZSByb3V0aW5lbHkgcmVwb3J0ZWQgdG8gYWxsb3cgbW9yZSBpbmZvcm1hdGl2ZQ0KICBpbmZlcmVuY2VzIGluIG1ldGEtYW5hbHlzZXMufSwNCiAgdXJsID0ge2h0dHA6Ly9keC5kb2kub3JnLzEwLjExMzYvYm1qb3Blbi0yMDE1LTAxMDI0N30sDQogIGtleXdvcmRzID0ge0NsaW5pY2FsIHRyaWFsOyBDb2NocmFuZSBEYXRhYmFzZSBvZiBTeXN0ZW1hdGljIFJldmlld3M7DQogIEhldGVyb2dlbmVpdHk7IE1ldGEtYW5hbHlzaXM7IFByZWRpY3Rpb24gaW50ZXJ2YWw7IFJhbmRvbSBlZmZlY3RzO01BDQogIFVuY29uc2Npb3VzIFdNO0JheWVzaWFuIFN0YXRpc3RpY3N9LA0KICBsYW5ndWFnZSA9IHtlbn0NCn0NCg0KQEFSVElDTEV7SGlnZ2luczIwMDItZmgsDQogIHRpdGxlID0ge1F1YW50aWZ5aW5nIGhldGVyb2dlbmVpdHkgaW4gYSBtZXRhLWFuYWx5c2lzfSwNCiAgYXV0aG9yID0ge0hpZ2dpbnMsIEp1bGlhbiBQIFQgYW5kIFRob21wc29uLCBTaW1vbiBHfSwNCiAgam91cm5hbHRpdGxlID0ge1N0YXRpc3RpY3MgaW4gbWVkaWNpbmV9LA0KICB2b2x1bWUgPSB7MjF9LA0KICBpc3N1ZSA9IHsxMX0sDQogIHBhZ2VzID0gezE1MzktMTU1OH0sDQogIGRhdGUgPSB7MjAwMi0wNi0xNX0sDQogIGRvaSA9IHsxMC4xMDAyL3NpbS4xMTg2fSwNCiAgcG1pZCA9IHsxMjExMTkxOX0sDQogIGlzc24gPSB7MDI3Ny02NzE1fSwNCiAgYWJzdHJhY3QgPSB7VGhlIGV4dGVudCBvZiBoZXRlcm9nZW5laXR5IGluIGEgbWV0YS1hbmFseXNpcyBwYXJ0bHkgZGV0ZXJtaW5lcw0KICB0aGUgZGlmZmljdWx0eSBpbiBkcmF3aW5nIG92ZXJhbGwgY29uY2x1c2lvbnMuIFRoaXMgZXh0ZW50IG1heSBiZSBtZWFzdXJlZCBieQ0KICBlc3RpbWF0aW5nIGEgYmV0d2Vlbi1zdHVkeSB2YXJpYW5jZSwgYnV0IGludGVycHJldGF0aW9uIGlzIHRoZW4gc3BlY2lmaWMgdG8gYQ0KICBwYXJ0aWN1bGFyIHRyZWF0bWVudCBlZmZlY3QgbWV0cmljLiBBIHRlc3QgZm9yIHRoZSBleGlzdGVuY2Ugb2YgaGV0ZXJvZ2VuZWl0eQ0KICBleGlzdHMsIGJ1dCBkZXBlbmRzIG9uIHRoZSBudW1iZXIgb2Ygc3R1ZGllcyBpbiB0aGUgbWV0YS1hbmFseXNpcy4gV2UgZGV2ZWxvcA0KICBtZWFzdXJlcyBvZiB0aGUgaW1wYWN0IG9mIGhldGVyb2dlbmVpdHkgb24gYSBtZXRhLWFuYWx5c2lzLCBmcm9tIG1hdGhlbWF0aWNhbA0KICBjcml0ZXJpYSwgdGhhdCBhcmUgaW5kZXBlbmRlbnQgb2YgdGhlIG51bWJlciBvZiBzdHVkaWVzIGFuZCB0aGUgdHJlYXRtZW50DQogIGVmZmVjdCBtZXRyaWMuIFdlIGRlcml2ZSBhbmQgcHJvcG9zZSB0aHJlZSBzdWl0YWJsZSBzdGF0aXN0aWNzOiBIIGlzIHRoZQ0KICBzcXVhcmUgcm9vdCBvZiB0aGUgY2hpMiBoZXRlcm9nZW5laXR5IHN0YXRpc3RpYyBkaXZpZGVkIGJ5IGl0cyBkZWdyZWVzIG9mDQogIGZyZWVkb207IFIgaXMgdGhlIHJhdGlvIG9mIHRoZSBzdGFuZGFyZCBlcnJvciBvZiB0aGUgdW5kZXJseWluZyBtZWFuIGZyb20gYQ0KICByYW5kb20gZWZmZWN0cyBtZXRhLWFuYWx5c2lzIHRvIHRoZSBzdGFuZGFyZCBlcnJvciBvZiBhIGZpeGVkIGVmZmVjdA0KICBtZXRhLWFuYWx5dGljIGVzdGltYXRlLCBhbmQgSTIgaXMgYSB0cmFuc2Zvcm1hdGlvbiBvZiAoSCkgdGhhdCBkZXNjcmliZXMgdGhlDQogIHByb3BvcnRpb24gb2YgdG90YWwgdmFyaWF0aW9uIGluIHN0dWR5IGVzdGltYXRlcyB0aGF0IGlzIGR1ZSB0byBoZXRlcm9nZW5laXR5Lg0KICBXZSBkaXNjdXNzIGludGVycHJldGF0aW9uLCBpbnRlcnZhbCBlc3RpbWF0ZXMgYW5kIG90aGVyIHByb3BlcnRpZXMgb2YgdGhlc2UNCiAgbWVhc3VyZXMgYW5kIGV4YW1pbmUgdGhlbSBpbiBmaXZlIGV4YW1wbGUgZGF0YSBzZXRzIHNob3dpbmcgZGlmZmVyZW50IGFtb3VudHMNCiAgb2YgaGV0ZXJvZ2VuZWl0eS4gV2UgY29uY2x1ZGUgdGhhdCBIIGFuZCBJMiwgd2hpY2ggY2FuIHVzdWFsbHkgYmUgY2FsY3VsYXRlZA0KICBmb3IgcHVibGlzaGVkIG1ldGEtYW5hbHlzZXMsIGFyZSBwYXJ0aWN1bGFybHkgdXNlZnVsIHN1bW1hcmllcyBvZiB0aGUgaW1wYWN0DQogIG9mIGhldGVyb2dlbmVpdHkuIE9uZSBvciBib3RoIHNob3VsZCBiZSBwcmVzZW50ZWQgaW4gcHVibGlzaGVkIG1ldGEtYW5hbHlzZXMNCiAgaW4gcHJlZmVyZW5jZSB0byB0aGUgdGVzdCBmb3IgaGV0ZXJvZ2VuZWl0eS59LA0KICB1cmwgPSB7aHR0cDovL2R4LmRvaS5vcmcvMTAuMTAwMi9zaW0uMTE4Nn0sDQogIGxhbmd1YWdlID0ge2VufQ0KfQ0KDQpAQVJUSUNMRXtIZWRnZXMyMDE5LXJ5LA0KICB0aXRsZSA9IHtTdGF0aXN0aWNhbCBhbmFseXNlcyBmb3Igc3R1ZHlpbmcgcmVwbGljYXRpb246IE1ldGEtYW5hbHl0aWMNCiAgcGVyc3BlY3RpdmVzfSwNCiAgYXV0aG9yID0ge0hlZGdlcywgTGFycnkgViBhbmQgU2NoYXVlciwgSmFjb2IgTX0sDQogIGpvdXJuYWx0aXRsZSA9IHtQc3ljaG9sb2dpY2FsIG1ldGhvZHN9LA0KICBwdWJsaXNoZXIgPSB7QW1lcmljYW4gUHN5Y2hvbG9naWNhbCBBc3NvY2lhdGlvbiAoQVBBKX0sDQogIHZvbHVtZSA9IHsyNH0sDQogIGlzc3VlID0gezV9LA0KICBwYWdlcyA9IHs1NTctNTcwfSwNCiAgZGF0ZSA9IHsyMDE5LTEwfSwNCiAgZG9pID0gezEwLjEwMzcvbWV0MDAwMDE4OX0sDQogIHBtaWQgPSB7MzAwNzA1NDd9LA0KICBpc3NuID0gezEwODItOTg5WCwxOTM5LTE0NjN9LA0KICBhYnN0cmFjdCA9IHtGb3JtYWwgZW1waXJpY2FsIGFzc2Vzc21lbnRzIG9mIHJlcGxpY2F0aW9uIGhhdmUgcmVjZW50bHkgYmVjb21lDQogIG1vcmUgcHJvbWluZW50IGluIHNldmVyYWwgYXJlYXMgb2Ygc2NpZW5jZSwgaW5jbHVkaW5nIHBzeWNob2xvZ3kuIFRoZXNlDQogIGFzc2Vzc21lbnRzIGhhdmUgdXNlZCBkaWZmZXJlbnQgc3RhdGlzdGljYWwgYXBwcm9hY2hlcyB0byBkZXRlcm1pbmUgaWYgYQ0KICBmaW5kaW5nIGhhcyBiZWVuIHJlcGxpY2F0ZWQuIFRoZSBwdXJwb3NlIG9mIHRoaXMgYXJ0aWNsZSBpcyB0byBwcm92aWRlIHNldmVyYWwNCiAgYWx0ZXJuYXRpdmUgY29uY2VwdHVhbCBmcmFtZXdvcmtzIHRoYXQgbGVhZCB0byBkaWZmZXJlbnQgc3RhdGlzdGljYWwgYW5hbHlzZXMNCiAgdG8gdGVzdCBoeXBvdGhlc2VzIGFib3V0IHJlcGxpY2F0aW9uLiBBbGwgb2YgdGhlc2UgYW5hbHlzZXMgYXJlIGJhc2VkIG9uDQogIHN0YXRpc3RpY2FsIG1ldGhvZHMgdXNlZCBpbiBtZXRhLWFuYWx5c2lzLiBUaGUgZGlmZmVyZW5jZXMgYW1vbmcgdGhlIG1ldGhvZHMNCiAgZGVzY3JpYmVkIGludm9sdmUgd2hldGhlciB0aGUgYnVyZGVuIG9mIHByb29mIGlzIHBsYWNlZCBvbiByZXBsaWNhdGlvbiBvcg0KICBub25yZXBsaWNhdGlvbiwgd2hldGhlciByZXBsaWNhdGlvbiBpcyBleGFjdCBvciBhbGxvd3MgZm9yIGEgc21hbGwgYW1vdW50IG9mDQogICJuZWdsaWdpYmxlIGhldGVyb2dlbmVpdHksIiBhbmQgd2hldGhlciB0aGUgc3R1ZGllcyBvYnNlcnZlZCBhcmUgYXNzdW1lZCB0byBiZQ0KICBmaXhlZCAoY29uc3RpdHV0aW5nIHRoZSBlbnRpcmUgYm9keSBvZiByZWxldmFudCBldmlkZW5jZSkgb3IgYXJlIGEgc2FtcGxlIGZyb20NCiAgYSB1bml2ZXJzZSBvZiBwb3NzaWJseSByZWxldmFudCBzdHVkaWVzLiBUaGUgc3RhdGlzdGljYWwgcG93ZXIgb2YgZWFjaCBvZg0KICB0aGVzZSB0ZXN0cyBpcyBjb21wdXRlZCBhbmQgc2hvd24gdG8gYmUgbG93IGluIG1hbnkgY2FzZXMsIHJhaXNpbmcgaXNzdWVzIG9mDQogIHRoZSBpbnRlcnByZXRhYmlsaXR5IG9mIHRlc3RzIGZvciByZXBsaWNhdGlvbi4gKFBzeWNJTkZPIERhdGFiYXNlIFJlY29yZCAoYykNCiAgMjAxOSBBUEEsIGFsbCByaWdodHMgcmVzZXJ2ZWQpLn0sDQogIHVybCA9IHtodHRwOi8vZHguZG9pLm9yZy8xMC4xMDM3L21ldDAwMDAxODl9LA0KICBmaWxlID0ge0hlZGdlcyBhbmQgU2NoYXVlciAyMDE5IC0gU3RhdGlzdGljYWwgYW5hbHlzZXMgZm9yIHN0dWR5aW5nIHJlcGxpY2F0aW9uIC0gTWV0YS1hbmFseXRpYyBwZXJzcGVjdGl2ZXMucGRmfSwNCiAga2V5d29yZHMgPSB7cmVwbGljYXRpb24tbWV0aG9kc30sDQogIGxhbmd1YWdlID0ge2VufQ0KfQ0KDQo=\" download=\"refs_to_download.bib\"> Download .bib file</a></button> {.refs}\n\n::: {#refs}\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}